<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµ•æ™¯æ—…éŠ | æ—¥æœ¬æ¥µè‡´ 7 å¤© 6 å¤œè¡Œç¨‹å°ˆæ³¨è€…</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Babel CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <!-- Lucide Icons & PDF Engine -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- å¼•å…¥å¤–éƒ¨ CSS æª”æ¡ˆ -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-white text-gray-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- 1. éœæ…‹æ•¸æ“šåº« ---

        const agencyInfo = {
            name: "çµ•æ™¯æ—…éŠ Superb Travel",
            phone: "02-2500-1234",
            email: "service@superbtravel.tw",
            address: "å°åŒ—å¸‚ä¸­å±±å€å—äº¬æ±è·¯ä¸‰æ®µ 100 è™Ÿ 5 æ¨“",
            hours: "é€±ä¸€è‡³é€±äº” 09:00 - 18:30",
            faq: [
                { q: "è¡Œç¨‹å¯ä»¥å®¢è£½åŒ–å—ï¼Ÿ", a: "æ²’å•é¡Œï¼æˆ‘å€‘å¯ä»¥æ ¹æ“šæ‚¨çš„é ç®—èª¿æ•´é¤é£²ã€é£¯åº—ç­‰ç´šæˆ–è¡Œç¨‹æ¯”ä¾‹ã€‚" },
                { q: "å°éŠæœƒèªªä¸­æ–‡å—ï¼Ÿ", a: "æˆ‘å€‘ä¿è­‰å®‰æ’å…·å‚™ 10 å¹´ä»¥ä¸Šç¶“é©—çš„å°ˆæ¥­åœ¨åœ°ä¸­æ–‡å°éŠã€‚" },
                { q: "PDF è¡Œç¨‹è¡¨å¦‚ä½•ä½¿ç”¨ï¼Ÿ", a: "åœ¨è©³æƒ…é é»æ“Šã€Œå°å‡º PDFã€ï¼Œæª”æ¡ˆå°‡è‡ªå‹•ä¸‹è¼‰ï¼Œä¾›æ‚¨é›¢ç·šæŸ¥çœ‹ã€‚" }
            ]
        };

        const travelPackages = [
            {
                id: "hokkaido",
                name: "åŒ—æµ·é“æ¥µè‡´é£Ÿå°šä¹‹æ—…",
                tag: "è€é¥•æ¨è–¦",
                icon: "Sprout",
                banner: "åŒ—æµ·é“.jpg",
                description: "åŒ—åœ‹å¤§åœ°ç”¢åœ°ç›´é€æµ·é®®ï¼Œé«”é©—å°æ¨½ã€å‡½é¤¨èˆ‡ç™»åˆ¥æº«æ³‰çš„æ¥µè‡´æµªæ¼«ã€‚",
                price: "TWD 55,000 èµ·",
                itinerary: [
                    {
                        day: 1, title: "æŠµé”æœ­å¹Œï¼šåŒ—åœ‹ä¹‹å‘³é–‹å•Ÿ", location: "æœ­å¹Œ",
                        roadmap: [{ time: "11:00", event: "æ©Ÿå ´å°ˆè»Šæ¥æ©Ÿ" }, { time: "18:00", event: "æˆå‰æ€æ±—çƒ¤ç¾Šè‚‰æ™šå®´" }],
                        desc: "é«”é©—æœ­å¹Œé–‹æ‹“å²ã€‚é¦–æ—¥å“åšæ­£å®—çƒ¤ç¾Šè‚‰ã€‚",
                        gourmet: [{ name: "æˆå‰æ€æ±— ã ã‚‹ã¾", type: "ååº—", popularDishes: ["ç‰¹é¸çƒ¤ç¾Šè‚‰", "è‡ªå®¶è£½æ³¡èœ"], contact: { address: "æœ­å¹Œå¸‚ä¸­å¤®åŒºå—5æ¡è¥¿4", phone: "011-552-6013" }, images: ["https://images.unsplash.com/photo-1529692236671-f1f6e9481bfa?auto=format&fit=crop&w=800&q=80"] }],
                        spots: [{ name: "æœ­å¹Œé›»è¦–å¡”", type: "åœ°æ¨™" }],
                        gifts: [{ name: "å…­èŠ±äº­ å¥¶æ²¹é¤…ä¹¾", desc: "åŒ—æµ·é“ä»£åè©ä¼´æ‰‹ç¦®" }],
                        hotel: { name: "JR Tower Hotel Nikko Sapporo", image: "https://images.unsplash.com/photo-1551882547-ff43c63faf76?auto=format&fit=crop&w=1000&q=80", website: "https://www.jrhotels.co.jp/sapporo/" }
                    },
                    {
                        day: 2, title: "æµªæ¼«å°æ¨½ï¼šç¡å­ä¹‹å¤¢", location: "å°æ¨½",
                        roadmap: [{ time: "10:00", event: "é‹æ²³æ•£ç­–" }, { time: "16:00", event: "éŸ³æ¨‚ç›’å ‚é«”é©—" }],
                        desc: "ç…¤æ²¹ç‡ˆä¸‹çš„æµªæ¼«æƒ…èª¿ã€‚",
                        gourmet: [{ name: "æ”¿å£½å¸", type: "ååº—", popularDishes: ["å¤§æ¥µä¸Šå£½å¸"], contact: { address: "å°æ¨½å¸‚èŠ±åœ’1-1-1", phone: "0134-23-0011" } }],
                        spots: [{ name: "å°æ¨½é‹æ²³", type: "æ™¯è§€" }],
                        gifts: [{ name: "LeTAO èµ·å¸è›‹ç³•", desc: "å…¥å£å³åŒ–" }],
                        hotel: { name: "è—ç¾¤", website: "https://www.kuramure.com/en/" }
                    },
                    { day: 3, title: "å‡½é¤¨å¤œæ™¯ï¼šä¸–ç•Œä¸‰å¤§ç¾æ™¯", location: "å‡½é¤¨", roadmap: [{ time: "19:00", event: "çºœè»Šè³å¤œæ™¯" }], desc: "è´è¶ç£ç’€ç’¨å¤œè‰²ã€‚", gourmet: [{ name: "Lucky Pierrot", type: "åœ¨åœ°", popularDishes: ["ä¸­è¯é›è‚‰æ¼¢å ¡"], contact: { address: "å‡½é¤¨å¸‚æœ«åºƒç”º", phone: "0138-23-2211" } }], spots: [{ name: "å‡½é¤¨å±•æœ›å°", type: "å¿…çœ‹" }], gifts: [{ name: "ä¹³é…ªæ­å§†è•¾", desc: "ç¶¿å¯†å£æ„Ÿ" }], hotel: { name: "La Vista Hakodate Bay", website: "https://www.hotespa.net/hotels/lahate/" } },
                    { day: 4, title: "æœå¸‚é®®å‘³èˆ‡å¤§æ²¼æ£®æ—", location: "å¤§æ²¼", roadmap: [{ time: "08:00", event: "æœå¸‚é‡£çƒè³Š" }], gourmet: [{ name: "ããã‚ˆé£Ÿå ‚", type: "ååº—", popularDishes: ["ä¸‰è‰²å·´ä¸¼"], contact: { address: "å‡½é¤¨æœå¸‚", phone: "0138-xxx" } }], spots: [{ name: "å¤§æ²¼å…¬åœ’", type: "è‡ªç„¶" }], gifts: [{ name: "é­·é­šé£¯", desc: "åœ°é“ç‰¹ç”¢" }], hotel: { name: "La Vista Hakodate Bay", website: "https://www.hotespa.net/hotels/lahate/" } },
                    { day: 5, title: "ç™»åˆ¥åœ°ç„ï¼šéœ‡æ’¼åœ°ç†±", location: "ç™»åˆ¥", roadmap: [{ time: "10:30", event: "å‰å¾€ç™»åˆ¥" }, { time: "14:00", event: "åœ°ç„è°·å°è¦½" }], gourmet: [{ name: "å‘³ã®è”µ", type: "ç‰¹è‰²", popularDishes: ["å‘³å™Œæ‹‰éºµ"], contact: { address: "ç™»åˆ¥æº«æ³‰è¡—", phone: "0143-xxx" } }], spots: [{ name: "åœ°ç„è°·", type: "æ™¯è§€" }], gifts: [{ name: "æº«æ³‰ç²‰", desc: "æŠŠåæ¹¯å¸¶å›å®¶" }], hotel: { name: "ç¬¬ä¸€ç€§æœ¬é¤¨", website: "https://takimotokan.jp/" } },
                    { day: 6, title: "æ´çˆºæ¹–ç•”ï¼šç«å±±èˆ‡èŠ±ç«", location: "æ´çˆºæ¹–", roadmap: [{ time: "20:30", event: "æ¹–ä¸ŠèŠ±ç«" }], gourmet: [{ name: "æœ›ç¾Šè¹„", type: "è€åº—", popularDishes: ["æ¼¢å ¡æ’"], contact: { address: "æ´çˆºæ¹–", phone: "0142-75-2311" } }], spots: [{ name: "æœ‰ç å±±", type: "æ™¯è§€" }], gifts: [{ name: "è‹¥ç‹¹è–¯", desc: "å‚³çµ±å’Œè“å­" }], hotel: { name: "KO NO UTA", website: "https://www.konouta.com/" } },
                    { day: 7, title: "è³¦æ­¸ï¼šæœ€å¾Œæ¡è²·", location: "æ©Ÿå ´", roadmap: [{ time: "10:00", event: "æ©Ÿå ´ä¼´æ‰‹ç¦®" }], gourmet: [{ name: "ä¸€å¹»æ‹‰éºµ", type: "æ©Ÿå ´", popularDishes: ["é®®è¦æ‹‰éºµ"], contact: { address: "æ©Ÿå ´3F", phone: "0123-45-6789" } }], spots: [{ name: "å·§å…‹åŠ›ä¸–ç•Œ", type: "è³¼ç‰©" }], gifts: [{ name: "ç”Ÿå·§å…‹åŠ›", desc: "æ©Ÿå ´é™å®š" }], hotel: null }
                ]
            },
            {
                id: "classic",
                name: "ç¶“å…¸é›™åŸæ–‡åŒ–ä¹‹æ—…",
                tag: "æœ€ç†±é–€",
                icon: "Navigation",
                banner: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=1200&q=80",
                description: "æ±äº¬èˆ‡é—œè¥¿çš„å®Œç¾çµåˆï¼Œæ©«è·¨æ—¥æœ¬å¤ä»Šç¸®å½±ï¼Œå…¨ç¨‹å°ˆæ¥­ä¸­æ–‡å°è¦½ã€‚",
                price: "TWD 45,800 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: i === 0 ? "æ±äº¬æŠµé”" : i === 2 ? "å‰å¾€å¤éƒ½" : `æ–‡åŒ–å·¡ç¦® Day ${i+1}`, location: i < 3 ? "æ±äº¬" : "é—œè¥¿",
                    roadmap: [{ time: "09:00", event: "å°è¦½é›†åˆ" }, { time: "18:00", event: "è‡ªç”±æ™‚é–“" }],
                    desc: "æ·±åº¦é«”é©—ç¹è¯èˆ‡ç¦ªæ„ã€‚",
                    gourmet: [{ name: "åœ¨åœ°ååº—", type: "ç²¾é¸", popularDishes: ["ç‰¹è‰²å®šé£Ÿ"], contact: { address: "å¸‚ä¸­å¿ƒ", phone: "æ´½å°éŠ" } }],
                    spots: [{ name: "æ­·å²åœ°æ¨™", type: "åœ°æ¨™" }],
                    gifts: [{ name: "é™å®šä¼´æ‰‹ç¦®", desc: "ç²¾ç¾å¥½ç¦®" }],
                    hotel: i < 6 ? { name: "é«˜ç´šäº”æ˜Ÿé£¯åº—", image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=1000&q=80", website: "https://www.hyatt.com/zh-HK/hotel/japan/park-hyatt-tokyo/tyoph" } : null
                }))
            },
            {
                id: "ski",
                name: "é•·é‡ç²‰é›ªæ»‘é›ªç››å®´",
                tag: "å†¬å­£é™å®š",
                icon: "Snowflake",
                banner: "https://images.unsplash.com/photo-1485594050903-8e8ee7b071a8?auto=format&fit=crop&w=1200&q=80",
                description: "åœ¨ç™½é¦¬é›ªå ´é«”é©—æ¥µè‡´ç²‰é›ªèˆ‡è±ªè¯æº«æ³‰ï¼Œé…å‚™å°ˆæ¥­æ•™ç·´æ•™å­¸ã€‚",
                price: "TWD 58,000 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: `ç²‰é›ªæŒ‘æˆ° Day ${i+1}`, location: "é•·é‡",
                    roadmap: [{ time: "09:00", event: "æ»‘é›ªæ•™å­¸" }, { time: "16:30", event: "åæ¹¯æ”¾é¬†" }],
                    desc: "æ»‘é›ªè€…çš„å¤¢å¹»å¤©å ‚ã€‚",
                    gourmet: [{ name: "ä¿¡å·ç‡’è‚‰å±‹", type: "å¿…åƒ", popularDishes: ["åšåˆ‡ç‰›èˆŒ"], contact: { address: "ç™½é¦¬æ‘", phone: "0261-xxx" } }],
                    spots: [{ name: "å±•æœ›å°", type: "é‹å‹•" }],
                    gifts: [{ name: "è˜‹æœç³»åˆ—é»å¿ƒ", desc: "åœ¨åœ°ç››ç”¢" }],
                    hotel: i < 6 ? { name: "äº”æ˜Ÿé£¯åº—", image: "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&w=1000&q=80", website: "https://www.tokyuhotelsjapan.com/global/hakuba-h/" } : null
                }))
            },
            {
                id: "park",
                name: "å…¨å¢ƒä¸»é¡Œæ¨‚åœ’ç‹‚æ­¡",
                tag: "è¦ªå­å†’éšª",
                icon: "Ticket",
                banner: "https://images.unsplash.com/photo-1542332213-31f87348057f?auto=format&fit=crop&w=1200&q=80",
                description: "æ”¶é›†è¿ªå£«å°¼èˆ‡ç’°çƒå½±åŸï¼Œæ‰“é€ å®Œç¾çš„ç«¥è©±å†’éšªé«”é©—ã€‚",
                price: "TWD 52,500 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: i < 3 ? "è¿ªå£«å°¼å¤¢å¹»" : "USJ è‹±é›„æ™‚åˆ»", location: i < 3 ? "æ±äº¬" : "å¤§é˜ª",
                    roadmap: [{ time: "08:00", event: "æå‰å…¥åœ’" }, { time: "19:00", event: "å¤œé–“è¡¨æ¼”" }],
                    desc: "ç‚ºç«¥å¿ƒæ‰“é€ çš„å¥‡å¹»æ—…ç¨‹ã€‚",
                    gourmet: [{ name: "ä¸»é¡Œé¤å»³", type: "ç‰¹è‰²", popularDishes: ["é€ å‹é¤é»"], contact: { address: "åœ’å€å…§", phone: "ç„¡" } }],
                    spots: [{ name: "æ²‰æµ¸å¼åœ’å€", type: "åœ°æ¨™" }],
                    gifts: [{ name: "é™å®šé«®ç®", desc: "ç¨å®¶é™é‡" }],
                    hotel: i < 6 ? { name: "å®˜æ–¹ç›´ç‡Ÿé£¯åº—", image: "https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?auto=format&fit=crop&w=1000&q=80", website: "https://www.tokyodisneyresort.jp/tc/hotel/tdh.html" } : null
                }))
            },
            {
                id: "kyushu",
                name: "ä¹å·æº«æ³‰èˆ‡éµé“å°é®",
                tag: "æ·±åº¦æ…¢æ´»",
                icon: "Palmtree",
                banner: "https://images.unsplash.com/photo-1542931287-023b922fa89b?auto=format&fit=crop&w=1200&q=80",
                description: "é«”é©—åˆ¥åºœåœ°ç„ã€ç”±å¸ƒé™¢åæ¹¯ï¼Œæ­ä¹˜ä¹å·ç‰¹è‰²æ™¯è§€åˆ—è»ŠéŠè¦½ã€‚",
                price: "TWD 42,000 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: `ä¹å·æ…¢æ´» Day ${i+1}`, location: "åˆ¥åºœ",
                    roadmap: [{ time: "10:00", event: "æ™¯è§€åˆ—è»Šé«”é©—" }, { time: "15:00", event: "æº«æ³‰å·¡ç¦®" }],
                    desc: "ç™‚ç™’èº«å¿ƒçš„æº«æ³‰ä¹‹æ—…ã€‚",
                    gourmet: [{ name: "åœ°ç„è’¸é£Ÿå ‚", type: "ç‰¹è‰²", popularDishes: ["æµ·é®®ç››åˆ"], contact: { address: "åˆ¥åºœå¸‚", phone: "0977-xxx-xxx" } }],
                    spots: [{ name: "é‡‘é±—æ¹–", type: "ç¾æ™¯" }],
                    gifts: [{ name: "æ˜å¤ªå­ç¦®ç›’", desc: "åšå¤šç‰¹ç”¢" }],
                    hotel: i < 6 ? { name: "é«˜ç´šæº«æ³‰æ¸¡å‡æ‘", image: "https://images.unsplash.com/photo-1544124499-58912cbddaad?auto=format&fit=crop&w=1000&q=80", website: "https://suginoi.orixhotelsandresorts.com/" } : null
                }))
            }
        ];

        // --- 2. æ ¸å¿ƒå…ƒä»¶ ---

        const Icon = ({ name, size = 24, className = "" }) => {
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [name]);
            return <i data-lucide={name.toLowerCase()} style={{ width: size, height: size }} className={className}></i>;
        };

        const SafeImage = ({ src, alt, className }) => {
            const [error, setError] = useState(false);
            useEffect(() => { setError(false); }, [src]);
            return (
                <div className={`relative ${className} bg-gray-900 overflow-hidden`}>
                    {error ? (
                        <div className="w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex flex-col items-center justify-center text-white/30 p-6 text-center">
                            <Icon name="Image" size={48} className="mb-4 opacity-20" />
                            <p className="text-[10px] font-black uppercase tracking-[0.2em]">å½±åƒè¼‰å…¥ä¸­...</p>
                        </div>
                    ) : (
                        <img src={src} alt={alt} className="w-full h-full object-cover transition-all duration-1000 hover:scale-105" onError={() => setError(true)} loading="lazy" />
                    )}
                </div>
            );
        };

        // --- 3. é é¢è¦–åœ–çµ„ä»¶ ---

        const Navbar = ({ setCurrentView, scrolled, currentView, setIsSidebarOpen }) => (
            <nav className={`fixed w-full z-50 transition-all duration-500 no-print ${scrolled || currentView !== 'home' ? 'bg-white/95 backdrop-blur-md shadow-lg py-3' : 'bg-transparent py-5 text-white'}`}>
                <div className="container mx-auto px-6 flex justify-between items-center">
                    <div className="flex items-center space-x-2 cursor-pointer group" onClick={() => setCurrentView('home')}>
                        <div className="w-10 h-10 rounded-xl bg-red-600 flex items-center justify-center shadow-lg transition-all group-hover:rotate-12"><Icon name="Compass" size={22} className="text-white" /></div>
                        <span className={`text-2xl font-black tracking-tighter ${scrolled || currentView !== 'home' ? 'text-gray-900' : 'text-white'}`}>çµ•æ™¯æ—…éŠ</span>
                    </div>
                    <div className="flex items-center space-x-8 font-black text-xs uppercase tracking-widest">
                        <div className="hidden md:flex space-x-10">
                            <button onClick={() => setCurrentView('home')} className="hover:text-red-500 transition-colors">é¦–é æ¢ç´¢</button>
                            <button onClick={() => { setCurrentView('home'); setTimeout(() => document.getElementById('packages')?.scrollIntoView({behavior:'smooth'}), 100); }} className="hover:text-red-500 transition-colors">ä¸»é¡Œå¥—é¤</button>
                        </div>
                        <button onClick={() => setIsSidebarOpen(true)} className={`p-2.5 bg-gray-100 rounded-full text-gray-900 hover:bg-red-600 hover:text-white transition-all`} title="å…¬å¸è³‡è¨Š">
                            <Icon name="Info" size={24} />
                        </button>
                    </div>
                </div>
            </nav>
        );

        const Sidebar = ({ isSidebarOpen, setIsSidebarOpen, setCurrentView }) => (
            <div className={`fixed inset-0 z-[100] transition-all duration-500 ${isSidebarOpen ? 'visible opacity-100' : 'invisible opacity-0'}`}>
               <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={() => setIsSidebarOpen(false)}></div>
               <div className={`absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl transition-transform duration-500 transform ${isSidebarOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                  <div className="p-10 h-full flex flex-col font-sans text-gray-900 text-left">
                     <div className="flex justify-between items-center mb-12">
                        <h3 className="text-3xl font-black uppercase tracking-tighter">å…¬å¸è³‡è¨Š</h3>
                        <button onClick={() => setIsSidebarOpen(false)} className="p-3 bg-gray-100 rounded-full hover:bg-red-600 hover:text-white transition-all"><Icon name="X" size={24} /></button>
                     </div>
                     <div className="space-y-10 flex-1 overflow-y-auto pr-4 scrollbar-hide">
                        <section className="space-y-4">
                           <h4 className="text-sm font-black uppercase text-red-600 tracking-[0.3em]">è¯çµ¡çª—å£</h4>
                           <div className="space-y-4 font-bold text-gray-700">
                              <p className="flex items-center"><Icon name="Phone" size={18} className="mr-4 text-red-500" /> {agencyInfo.phone}</p>
                              <p className="flex items-center"><Icon name="Mail" size={18} className="mr-4 text-red-500" /> {agencyInfo.email}</p>
                              <p className="flex items-start"><Icon name="MapPin" size={18} className="mr-4 text-red-500 mt-1" /> {agencyInfo.address}</p>
                           </div>
                        </section>
                        <section className="space-y-6">
                           <h4 className="text-sm font-black uppercase text-red-600 tracking-[0.3em]">å¸¸è¦‹å•é¡Œ FAQ</h4>
                           {agencyInfo.faq.map((f, i) => (
                             <div key={i} className="p-6 bg-gray-50 rounded-3xl space-y-2"><p className="font-black text-gray-900 leading-tight">Q: {f.q}</p><p className="text-sm text-gray-500 font-medium">{f.a}</p></div>
                           ))}
                        </section>
                     </div>
                  </div>
               </div>
            </div>
        );

        const HomeView = ({ navigateToDetail }) => (
            <div className="animate-fade-in font-sans">
                <section className="relative h-[85vh] flex items-center justify-center bg-gray-900 overflow-hidden no-print">
                    <div className="absolute inset-0 z-0">
                        <div className="absolute inset-0 bg-gradient-to-b from-black/50 via-black/20 to-gray-900 z-10"></div>
                        <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=1920&q=80" className="w-full h-full object-cover scale-105" alt="Japan" />
                    </div>
                    <div className="relative z-20 text-center px-6 max-w-5xl text-white">
                        <div className="inline-block bg-red-600 px-6 py-2 rounded-full text-[10px] font-black mb-8 tracking-[0.3em] shadow-2xl uppercase">Expert Led 7-Day Journeys</div>
                        <h1 className="text-6xl md:text-8xl font-black mb-8 leading-[1.1] tracking-tighter uppercase font-sans">æ—¥æœ¬ï¼Œ<br/><span className="text-red-500 underline decoration-4 underline-offset-8">ä¸åªæ˜¯æ—…è¡Œ</span></h1>
                        <p className="text-xl text-gray-200 mb-12 max-w-2xl mx-auto font-medium leading-relaxed">å°ˆæ¥­é ˜éšŠã€‚æˆ‘å€‘ç‚ºæ‚¨æä¾› 7 å¤©å®Œæ•´æ”»ç•¥ã€é£¯åº—å®˜ç¶²é€£çµèˆ‡ PDF ä¸€éµå°å‡ºæœå‹™ã€‚æ‰“é€ æ‚¨çš„æ¥µè‡´å›æ†¶ã€‚</p>
                        <div className="flex justify-center"><div className="animate-bounce opacity-50"><Icon name="ChevronDown" size={32} /></div></div>
                    </div>
                </section>
                <section id="packages" className="py-32 bg-gray-50 px-6 no-print text-gray-900 text-center">
                    <div className="container mx-auto text-center mb-20 font-black uppercase text-4xl">åš´é¸äº”å¤§ä¸»é¡Œå¥—é¤</div>
                    <div className="container mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                        {travelPackages.map((pkg) => (
                            <div key={pkg.id} onClick={() => navigateToDetail(pkg)} className="group cursor-pointer bg-white rounded-[3rem] overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4 font-sans text-left">
                                <SafeImage src={pkg.id === "hokkaido" ? "https://images.unsplash.com/photo-1549114030-4b210875620c?auto=format&fit=crop&w=800&q=80" : pkg.banner} alt={pkg.name} className="h-64" />
                                <div className="p-10 relative">
                                    <div className="absolute -top-8 left-8 z-20"><span className="px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase bg-red-600 text-white shadow-sm font-sans">{pkg.tag}</span></div>
                                    <div className="w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center mb-8 group-hover:bg-red-600 group-hover:text-white transition-all shadow-sm"><Icon name={pkg.icon} /></div>
                                    <h3 className="text-2xl font-black mb-4 uppercase">{pkg.name}</h3>
                                    <p className="text-gray-500 text-sm mb-8 leading-relaxed line-clamp-2 font-medium">{pkg.description}</p>
                                    <div className="flex justify-between items-center border-t border-gray-100 pt-8 font-black">
                                        <span className="text-red-600 font-sans font-black">{pkg.price}</span>
                                        <span className="text-xs uppercase tracking-widest text-gray-400 group-hover:text-red-600 font-sans">æŸ¥çœ‹è©³æƒ… <Icon name="ChevronRight" size={14} className="inline ml-1" /></span>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </section>
            </div>
        );

        const GalleryView = ({ galleryItem, setCurrentView }) => (
            <div className="pt-32 min-h-screen bg-gray-950 text-white animate-fade-in pb-24 px-6 font-sans">
                <div className="container mx-auto py-12">
                    <button onClick={() => setCurrentView('detail')} className="flex items-center text-gray-400 hover:text-white mb-12 font-black text-xs uppercase transition-all tracking-widest"><Icon name="ArrowLeft" size={20} className="mr-3" /> è¿”å›è¡Œç¨‹è¡¨</button>
                    <div className="grid lg:grid-cols-2 gap-16 items-start text-left">
                        <div className="space-y-12">
                            <div>
                                <span className="inline-block px-4 py-1.5 bg-red-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest mb-6 font-sans">{galleryItem?.type || "ç²¾é¸è³‡è¨Š"}</span>
                                <h2 className="text-5xl md:text-7xl font-black uppercase tracking-tighter leading-none mb-8 text-white">{galleryItem?.name}</h2>
                                <p className="text-xl text-gray-400 leading-relaxed font-medium mb-12 font-sans">{galleryItem?.desc || "é«”é©—åœ¨åœ°ç²¾è¯èˆ‡ç´°è†©æ–‡åŒ–ã€‚"}</p>
                                {galleryItem?.contact && (
                                    <div className="bg-white/5 border border-white/10 p-10 rounded-[3rem] space-y-6">
                                       <h4 className="text-xs font-black uppercase tracking-[0.4em] text-red-500 font-sans">è¯çµ¡èˆ‡å°èˆªè³‡è¨Š</h4>
                                       <div className="flex items-start space-x-4 text-sm font-bold text-gray-300 font-sans"><Icon name="MapPin" size={22} className="text-gray-500" /><p>{galleryItem.contact.address}</p></div>
                                       <div className="flex items-center space-x-4 text-sm font-bold text-gray-300 font-sans"><Icon name="Phone" size={22} className="text-gray-500" /><p>{galleryItem.contact.phone}</p></div>
                                    </div>
                                )}
                            </div>
                            {galleryItem?.popularDishes && (
                                <div className="bg-white/5 border border-white/10 p-10 rounded-[3rem] font-sans">
                                   <h4 className="flex items-center text-xl font-black uppercase tracking-widest mb-8 text-orange-500 font-sans"><Icon name="ChefHat" className="mr-3" /> äººæ°£å¿…é»é¤é»</h4>
                                   <div className="space-y-4 font-bold text-lg text-gray-200">
                                      {galleryItem.popularDishes.map((dish, i) => (
                                        <div key={i} className="flex items-center space-x-4 font-sans"><div className="w-2 h-2 rounded-full bg-orange-500"></div><span className="font-sans">{dish}</span></div>
                                      ))}
                                   </div>
                                </div>
                            )}
                            <button className="flex items-center space-x-4 p-6 bg-red-600 text-white rounded-[2rem] w-full hover:bg-red-700 transition-all font-black uppercase tracking-widest font-sans"><Icon name="Instagram" /><span>åœ¨ Instagram æŸ¥çœ‹å¯¦æ‹</span></button>
                        </div>
                        <div className="grid grid-cols-1 gap-6">
                           {galleryItem?.images?.map((img, i) => (
                             <div key={i} className="rounded-[3rem] overflow-hidden shadow-2xl border border-white/10 aspect-video"><img src={img} className="w-full h-full object-cover" alt="Ref" /></div>
                           ))}
                        </div>
                    </div>
                </div>
            </div>
        );

        const DetailView = ({ selectedPkg, activeDay, setActiveDay, setCurrentView, openGallery, handleExportPDF, isExporting }) => {
            const dayData = selectedPkg?.itinerary?.[activeDay];
            if (!dayData) return null;

            return (
                <div className="pt-24 min-h-screen bg-white animate-fade-in pb-24 font-sans px-6 text-gray-900 font-sans">
                    <div className="container mx-auto py-8 flex flex-col md:flex-row md:items-center justify-between border-b border-gray-100 mb-12 gap-4 no-print text-gray-900 font-sans">
                        <button onClick={() => setCurrentView('home')} className="flex items-center text-gray-500 hover:text-red-600 transition-all font-black text-xs uppercase tracking-widest font-sans"><Icon name="ArrowLeft" size={18} className="mr-3" /> è¿”å›åˆ—è¡¨</button>
                        <div className="flex items-center space-x-4">
                            <button onClick={handleExportPDF} disabled={isExporting} className="flex items-center px-6 py-3 bg-gray-900 text-white rounded-full font-black text-xs uppercase tracking-widest hover:bg-red-600 transition-all shadow-lg active:scale-95 disabled:opacity-50 font-sans">
                                {isExporting ? <Icon name="Loader2" className="mr-2 animate-spin" size={16} /> : <Icon name="FileDown" size={16} className="mr-2" />}
                                å°å‡º PDF è¡Œç¨‹æ‰‹å†Š
                            </button>
                        </div>
                    </div>

                    {/* PDF HIDDEN CONTENT */}
                    <div id="itinerary-pdf-content" style={{ position: 'absolute', top: 0, left: '-9999px', width: '800px', backgroundColor: '#fff', color: '#000', padding: '40px', fontFamily: 'sans-serif' }}>
                         <div style={{ borderBottom: '10px solid #DC2626', paddingBottom: '30px', marginBottom: '40px', textAlign: 'center' }}>
                            <h1 style={{ fontSize: '48px', fontWeight: '900', textTransform: 'uppercase', marginBottom: '10px', color: '#000' }}>{agencyInfo.name} | è¡Œç¨‹æ‰‹å†Š</h1>
                            <p style={{ fontSize: '20px', color: '#666', fontWeight: 'bold' }}>{selectedPkg?.name} Â· 7å¤©6å¤œå®Œæ•´æ”»ç•¥</p>
                         </div>
                         {selectedPkg?.itinerary.map((day, idx) => (
                           <div key={idx} style={{ pageBreakInside: 'avoid', marginBottom: '50px', borderBottom: '3px solid #f0f0f0', paddingBottom: '50px' }}>
                              <div style={{ display: 'flex', alignItems: 'baseline', gap: '30px', marginBottom: '30px' }}>
                                 <span style={{ fontSize: '64px', fontWeight: '900', color: '#DC2626' }}>D{day.day}</span>
                                 <h3 style={{ fontSize: '36px', fontWeight: '900', color: '#000' }}>{day.title}</h3>
                              </div>
                              <div style={{ display: 'grid', gridTemplateColumns: '1.2fr 0.8fr', gap: '40px' }}>
                                 <div style={{ backgroundColor: '#fdfdfd', border: '1px solid #eee', padding: '30px', borderRadius: '30px' }}>
                                    <h4 style={{ fontSize: '16px', fontWeight: '900', borderBottom: '2px solid #DC2626', display: 'inline-block', paddingBottom: '5px', marginBottom: '25px' }}>å°è¦½è·¯å¾‘</h4>
                                    {day.roadmap?.map((r, ri) => (
                                      <div key={ri} style={{ display: 'flex', marginBottom: '20px' }}><span style={{ fontWeight: '900', width: '80px', color: '#DC2626', fontSize: '18px' }}>{r.time}</span><span style={{ fontWeight: '700', flex: 1, fontSize: '18px' }}>{r.event}</span></div>
                                    ))}
                                 </div>
                                 <div>
                                    {day.hotel && <div style={{ backgroundColor: '#111', color: '#fff', padding: '25px', borderRadius: '30px', marginBottom: '30px' }}><h4 style={{ fontSize: '12px', fontWeight: '900', color: '#DC2626', marginBottom: '10px' }}>ä¸‹æ¦»é£¯åº—</h4><p style={{ fontSize: '20px', fontWeight: '900' }}>{day.hotel.name}</p></div>}
                                    <div style={{ border: '3px solid #FFEDD5', backgroundColor: '#FFF7ED', padding: '25px', borderRadius: '30px' }}>
                                       <h4 style={{ fontSize: '12px', fontWeight: '900', color: '#EA580C', marginBottom: '15px' }}>ç¾é£Ÿå¿…é»èˆ‡è¯çµ¡</h4>
                                       {day.gourmet?.map((g, gi) => (
                                         <div key={gi} style={{ marginBottom: '15px' }}>
                                            <p style={{ fontWeight: '900', fontSize: '16px', color: '#7C2D12' }}>{g.name}</p>
                                            <p style={{ fontSize: '12px', color: '#9A3412', fontWeight: '600' }}>å¿…é»ï¼š{g.popularDishes?.join('ã€')}</p>
                                            <p style={{ fontSize: '11px', color: '#666', marginTop: '5px' }}>ğŸ“ {g.contact?.address}</p>
                                         </div>
                                       ))}
                                    </div>
                                 </div>
                              </div>
                           </div>
                         ))}
                    </div>

                    <div className="container mx-auto grid lg:grid-cols-12 gap-16 no-print font-sans text-left">
                        <div className="lg:col-span-3 space-y-3 font-sans">
                            <h4 className="font-black text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-6 italic border-l-2 border-red-600 px-4 font-sans text-left">Journey Roadmap</h4>
                            <div className="grid grid-cols-4 lg:grid-cols-1 gap-2">
                                {selectedPkg?.itinerary.map((item, idx) => (
                                    <button key={idx} onClick={() => { setActiveDay(idx); window.scrollTo({ top: 0, behavior: 'smooth' }); }} className={`text-left p-5 rounded-[2rem] transition-all flex flex-col lg:flex-row items-center border font-sans ${activeDay === idx ? 'bg-gray-900 text-white shadow-2xl border-gray-900 lg:translate-x-3' : 'bg-white text-gray-400 border-gray-100 hover:bg-gray-50'}`}>
                                        <span className={`w-8 h-8 lg:w-10 lg:h-10 rounded-xl flex items-center justify-center lg:mr-4 font-black text-xs mb-2 lg:mb-0 font-sans ${activeDay === idx ? 'bg-red-600 rotate-12' : 'bg-gray-100'}`}>D{item.day}</span>
                                        <span className="font-black text-[10px] lg:text-sm tracking-tight truncate w-full text-center lg:text-left whitespace-nowrap font-sans">{item.location}</span>
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div className="lg:col-span-9 space-y-16">
                            <div className="bg-white rounded-[4rem] p-10 md:p-16 shadow-2xl border border-gray-50 relative overflow-hidden font-sans">
                                <div className="absolute top-0 right-0 p-12 opacity-5 text-gray-100 pointer-events-none uppercase font-black text-9xl">D0{dayData.day}</div>
                                <div className="relative z-10 font-sans text-left">
                                    <h2 className="text-4xl md:text-7xl font-black text-gray-900 leading-[1.1] mb-6 tracking-tighter uppercase font-sans font-black">{dayData.title}</h2>
                                    <p className="text-2xl text-gray-500 leading-relaxed font-medium border-l-4 border-gray-100 pl-8 mb-16 font-sans">{dayData.desc}</p>

                                    <div className="mb-20">
                                       <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10"><Icon name="Navigation" size={32} className="mr-5 text-red-600" /> Guided Roadmap</h4>
                                       <div className="bg-gray-50 p-10 rounded-[3rem] space-y-10 font-sans">
                                          {dayData.roadmap?.map((item, i) => (
                                            <div key={i} className="flex group">
                                              <div className="flex flex-col items-center mr-8">
                                                <div className="w-12 h-12 rounded-2xl bg-white border border-gray-200 text-red-600 flex items-center justify-center font-black text-xs shadow-sm group-hover:bg-red-600 group-hover:text-white transition-all font-sans">{item.time}</div>
                                                {i !== dayData.roadmap.length - 1 && <div className="w-1 h-full bg-gray-100 my-2"></div>}
                                              </div>
                                              <div className="pb-4 pt-2 font-black text-xl text-gray-900 font-sans">{item.event}</div>
                                            </div>
                                          ))}
                                       </div>
                                    </div>

                                    {dayData.gifts && dayData.gifts.length > 0 && (
                                       <div className="mb-20 pt-10 border-t border-gray-100 text-left">
                                          <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans"><Icon name="Gift" size={32} className="mr-5 text-pink-600 font-sans" /> Must-Buy Gifts</h4>
                                          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                             {dayData.gifts.map((gift, i) => (
                                               <button key={i} onClick={() => openGallery(gift, 'ç•¶åœ°ä¼´æ‰‹ç¦®')} className="text-left bg-pink-50/40 p-8 rounded-[2.5rem] border border-pink-100 hover:bg-white hover:shadow-2xl transition-all group relative font-sans">
                                                  <span className="text-[10px] px-3 py-1 bg-pink-200 text-pink-900 rounded-full font-black uppercase tracking-widest mb-4 block w-fit font-sans">ç•¶åœ°ç‰¹ç”¢</span>
                                                  <h5 className="font-black text-xl text-pink-900 mb-3 font-sans">{gift.name}</h5>
                                                  <p className="text-sm text-gray-600 line-clamp-2 font-sans">{gift.desc || "ç²¾é¸ç•¶åœ°æœ€å…·ä»£è¡¨æ€§çš„ç‰¹è‰²ä¼´æ‰‹ç¦®é¸ç‰©ã€‚"}</p>
                                               </button>
                                             ))}
                                          </div>
                                       </div>
                                    )}

                                    <div className="space-y-20 pt-10 border-t border-gray-100 font-sans text-left">
                                      <div>
                                        <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans font-sans font-sans font-sans"><Icon name="Utensils" size={32} className="mr-5 text-orange-600 font-sans font-sans" /> Gourmet Discovery</h4>
                                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8 text-gray-900 font-sans">
                                          {dayData.gourmet?.map((food, i) => (
                                            <button key={i} onClick={() => openGallery(food, 'ååº—æ¨è–¦')} className="text-left bg-orange-50/40 p-8 rounded-[2.5rem] border border-orange-100 hover:bg-white hover:shadow-2xl transition-all group relative font-sans">
                                               <span className="text-[10px] px-3 py-1 bg-orange-200 text-orange-900 rounded-full font-black uppercase tracking-widest mb-4 block w-fit font-sans">ååº—å¿…åƒ</span>
                                               <h5 className="font-black text-xl text-orange-900 mb-3 font-sans font-black">{food.name}</h5>
                                               {food.contact && (
                                                 <div className="pt-4 border-t border-orange-100/50 space-y-1 text-[9px] font-black text-gray-400 uppercase tracking-widest font-sans font-sans font-sans">
                                                    <div className="flex items-center font-sans font-sans"><Icon name="MapPin" size={10} className="mr-1 text-orange-500 font-sans font-sans" /> {food.contact.address.substring(0,15)}...</div>
                                                    <div className="flex items-center font-sans font-sans"><Icon name="Phone" size={10} className="mr-1 text-orange-500 font-sans font-sans" /> {food.contact.phone}</div>
                                                 </div>
                                               )}
                                               <div className="mt-4 flex items-center text-[10px] font-black text-orange-600 uppercase tracking-widest transition-all">æŸ¥çœ‹è©³æƒ… <Icon name="ChevronRight" size={14} className="ml-1 font-sans" /></div>
                                            </button>
                                          ))}
                                        </div>
                                      </div>

                                      <div>
                                        <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans font-sans font-sans font-sans"><Icon name="Camera" size={32} className="mr-5 text-blue-600 font-sans font-sans font-sans" /> Spot Explorer</h4>
                                        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8 font-sans">
                                          {dayData.spots?.map((spot, i) => (
                                            <button key={i} onClick={() => openGallery(spot, 'æ¨è–¦æ™¯é»')} className="text-left bg-blue-50/40 p-8 rounded-[2.5rem] border border-blue-100 hover:bg-white hover:shadow-2xl transition-all group relative font-sans">
                                               <span className="text-[10px] px-3 py-1 bg-blue-200 text-blue-900 rounded-full font-black uppercase tracking-widest mb-4 block w-fit font-sans font-black">ç†±é–€æ™¯é»</span>
                                               <h5 className="font-black text-xl text-blue-900 mb-3 font-sans font-black">{spot.name}</h5>
                                               <div className="mt-4 flex items-center text-[10px] font-black text-blue-600 uppercase tracking-widest font-sans font-sans font-sans">æŸ¥çœ‹å¤§åœ– <Icon name="ChevronRight" size={14} className="ml-1 font-sans" /></div>
                                            </button>
                                          ))}
                                        </div>
                                      </div>
                                    </div>

                                    {dayData.hotel && (
                                      <div className="pt-20 border-t border-gray-100 mt-20 font-sans text-left">
                                        <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans font-sans font-sans font-sans"><Icon name="Bed" size={32} className="mr-5 text-red-600 font-sans font-sans font-sans" /> Elite Accommodation</h4>
                                        <div className="bg-gray-900 text-white rounded-[4rem] overflow-hidden shadow-2xl flex flex-col xl:flex-row border border-gray-800 font-sans font-sans font-sans">
                                          <div className="xl:w-1/2 h-[500px] font-sans font-sans font-sans font-sans font-sans"><SafeImage src={dayData.hotel.image || selectedPkg.banner} alt={dayData.hotel.name} className="h-full w-full font-sans font-sans font-sans" /></div>
                                          <div className="xl:w-1/2 p-12 flex flex-col justify-center font-sans font-sans font-sans font-sans font-sans text-left">
                                            <span className="text-red-500 font-black text-[10px] tracking-[0.5em] uppercase mb-8 block italic underline decoration-red-600/40 decoration-4 underline-offset-8 font-sans font-sans">Tonight's Stay Choice</span>
                                            <h4 className="text-4xl md:text-5xl font-black mb-8 tracking-tighter leading-tight uppercase font-sans font-sans font-sans font-sans font-black">{dayData.hotel.name}</h4>
                                            {dayData.hotel.website && dayData.hotel.website !== "#" && (
                                              <a href={dayData.hotel.website} target="_blank" rel="noopener noreferrer" className="inline-flex items-center justify-center px-10 py-6 bg-white text-gray-900 rounded-2xl font-black text-sm hover:bg-red-600 hover:text-white transition-all shadow-xl group uppercase tracking-widest font-sans font-sans font-sans font-sans font-black">é€ è¨ªé£¯åº—å®˜æ–¹ç¶²ç«™ <Icon name="ExternalLink" size={18} className="ml-4 font-sans font-sans font-sans font-sans" /></a>
                                            )}
                                          </div>
                                        </div>
                                      </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const BookingView = ({ setCurrentView }) => (
            <div className="pt-32 pb-24 bg-red-600 min-h-screen flex items-center px-6 font-sans">
                <div className="container mx-auto font-sans font-sans">
                    <div className="bg-white rounded-[4rem] overflow-hidden shadow-2xl flex flex-col lg:flex-row text-gray-900 font-sans font-sans">
                        <div className="lg:w-2/5 bg-gray-900 p-12 text-white flex flex-col justify-between font-sans font-sans font-sans">
                            <div className="text-left font-sans font-sans"><button onClick={() => setCurrentView('home')} className="flex items-center text-gray-400 hover:text-white mb-12 font-black text-xs uppercase transition-colors font-sans font-sans font-sans font-sans"><Icon name="ArrowLeft" size={18} className="mr-3" /> è¿”å›åˆ—è¡¨</button><h2 className="text-5xl font-black uppercase font-sans font-sans font-black">å³åˆ»é ç´„</h2></div>
                        </div>
                        <div className="lg:w-3/5 p-12 bg-white text-left font-sans font-sans">
                            <form className="space-y-10" onSubmit={(e) => e.preventDefault()}>
                                <div className="grid md:grid-cols-2 gap-10 font-sans font-sans">
                                    <input type="text" className="w-full px-8 py-5 bg-gray-50 border-none rounded-2xl font-bold text-lg font-sans font-sans font-sans font-sans" placeholder="æ‚¨çš„å§“å" />
                                    <input type="tel" className="w-full px-8 py-5 bg-gray-50 border-none rounded-2xl font-bold text-lg font-sans font-sans font-sans font-sans" placeholder="è¯çµ¡é›»è©±" />
                                </div>
                                <button className="w-full py-6 bg-red-600 text-white rounded-2xl font-black text-xl shadow-2xl uppercase tracking-widest font-sans font-sans font-black transition-all hover:bg-red-700">é€å‡ºé ç´„ç”³è«‹</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        );

        const App = () => {
            const [currentView, setCurrentView] = useState('home'); 
            const [selectedPkg, setSelectedPkg] = useState(null);
            const [activeDay, setActiveDay] = useState(0);
            const [galleryItem, setGalleryItem] = useState(null);
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [isExporting, setIsExporting] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const navigateToDetail = (pkg) => { setSelectedPkg(pkg); setActiveDay(0); setCurrentView('detail'); window.scrollTo(0,0); };
            const openGallery = (item, type) => { setGalleryItem({ ...item, type }); setCurrentView('gallery'); window.scrollTo(0,0); };

            const handleExportPDF = () => {
                if (typeof window.html2pdf === 'undefined') { alert("PDF å¼•æ“è¼‰å…¥ä¸­..."); return; }
                setIsExporting(true);
                const element = document.getElementById('itinerary-pdf-content');
                const opt = {
                    margin: 10,
                    filename: `çµ•æ™¯æ—…éŠ_${selectedPkg.name}.pdf`,
                    image: { type: 'jpeg', quality: 1.0 },
                    html2canvas: { scale: 3, useCORS: true, letterRendering: true, backgroundColor: '#FFFFFF' },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };
                setTimeout(() => {
                    window.html2pdf().from(element).set(opt).save().then(() => setIsExporting(false)).catch(() => setIsExporting(false));
                }, 800);
            };

            const renderView = () => {
                switch(currentView) {
                    case 'detail': 
                        return <DetailView 
                                    selectedPkg={selectedPkg} 
                                    activeDay={activeDay} 
                                    setActiveDay={setActiveDay} 
                                    setCurrentView={setCurrentView} 
                                    openGallery={openGallery} 
                                    handleExportPDF={handleExportPDF} 
                                    isExporting={isExporting} 
                                />;
                    case 'gallery': 
                        return <GalleryView 
                                    galleryItem={galleryItem} 
                                    setCurrentView={setCurrentView} 
                                />;
                    case 'booking': 
                        return <BookingView 
                                    setCurrentView={setCurrentView} 
                                />;
                    default: 
                        return <HomeView navigateToDetail={navigateToDetail} />;
                }
            };

            return (
                <div className="min-h-screen bg-white text-gray-900 selection:bg-red-100 font-sans font-sans">
                    <Navbar 
                        setCurrentView={setCurrentView} 
                        scrolled={scrolled} 
                        currentView={currentView} 
                        setIsSidebarOpen={setIsSidebarOpen} 
                    />
                    <Sidebar 
                        isSidebarOpen={isSidebarOpen} 
                        setIsSidebarOpen={setIsSidebarOpen} 
                        setCurrentView={setCurrentView} 
                    />
                    {renderView()}
                    <footer className="bg-gray-900 text-white py-24 text-center no-print font-sans font-sans font-sans">
                        <div className="container mx-auto px-6 font-sans font-sans">
                           <div className="inline-flex items-center space-x-3 mb-12 border border-white/10 p-4 rounded-3xl font-sans font-sans font-sans">
                              <div className="w-10 h-10 rounded-xl bg-red-600 flex items-center justify-center font-sans font-sans font-sans font-sans"><Icon name="Navigation" size={20} className="text-white" /></div>
                              <span className="text-xl font-black tracking-tighter uppercase font-sans font-sans font-black">Superb Travel</span>
                           </div>
                           <div className="flex flex-col md:flex-row justify-center items-center gap-10 text-[10px] font-black uppercase tracking-[0.4em] opacity-50 mb-12 font-sans font-sans font-sans">
                              <p>åœ°å€: {agencyInfo.address}</p><p>é›»è©±: {agencyInfo.phone}</p><p>EMAIL: {agencyInfo.email}</p>
                           </div>
                           <p className="text-[10px] font-bold uppercase tracking-[0.5em] opacity-20 font-sans font-sans font-sans font-sans font-sans">Â© 2025 SUPERB TRAVEL CO., LTD. ALL RIGHTS RESERVED.</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>