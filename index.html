<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµ•æ™¯æ—…éŠ | æ—¥æœ¬æ¥µè‡´ 7 å¤© 6 å¤œè¡Œç¨‹å°ˆæ³¨è€…</title>
    <!-- å¼•å…¥å¤–éƒ¨ CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; -webkit-font-smoothing: antialiased; }
        .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slide-in-right { from { transform: translateX(50px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.6s ease-out forwards; }
        .animate-slide-in { animation: slide-in-right 0.5s ease-out forwards; }
        .no-print { @media print { display: none !important; } }
        /* ç¢ºä¿ PDF å…§å®¹æ¸²æŸ“æ­£å¸¸ */
        #itinerary-pdf-content { color: #000 !important; background: #fff !important; }
    </style>
</head>
<body class="bg-white text-gray-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // --- 1. åŸºç¤ UI çµ„ä»¶ ---

        const Icon = ({ name, size = 24, className = "" }) => {
            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [name]);
            return <i data-lucide={name.toLowerCase()} style={{ width: size, height: size }} className={className}></i>;
        };

        const SafeImage = ({ src, alt, className }) => {
            const [error, setError] = useState(false);
            useEffect(() => { setError(false); }, [src]);
            return (
                <div className={`relative ${className} bg-gray-900 overflow-hidden`}>
                    {error ? (
                        <div className="w-full h-full bg-gradient-to-br from-gray-800 to-gray-900 flex flex-col items-center justify-center text-white/30 p-6 text-center">
                            <Icon name="Image" size={48} className="mb-4 opacity-20" />
                            <p className="text-[10px] font-black uppercase tracking-[0.2em]">å½±åƒè¼‰å…¥ä¸­...</p>
                        </div>
                    ) : (
                        <img 
                            src={src} 
                            alt={alt} 
                            className="w-full h-full object-cover transition-all duration-1000 hover:scale-105" 
                            onError={() => setError(true)} 
                            loading="lazy" 
                        />
                    )}
                </div>
            );
        };

        // --- 2. è¡Œç¨‹èˆ‡å…¬å¸æ•¸æ“š ---

        const agencyInfo = {
            name: "çµ•æ™¯æ—…éŠ Superb Travel",
            phone: "02-2500-1234",
            email: "service@superbtravel.tw",
            address: "å°åŒ—å¸‚ä¸­å±±å€å—äº¬æ±è·¯ä¸‰æ®µ 100 è™Ÿ 5 æ¨“",
            hours: "é€±ä¸€è‡³é€±äº” 09:00 - 18:30",
            faq: [
                { q: "è¡Œç¨‹å¯ä»¥æ ¹æ“šæˆ‘çš„é ç®—èª¿æ•´å—ï¼Ÿ", a: "æ²’å•é¡Œï¼æˆ‘å€‘å¯ä»¥æ ¹æ“šæ‚¨çš„é ç®—èª¿æ•´é¤é£²ã€é£¯åº—ç­‰ç´šæˆ–è¡Œç¨‹æ¯”ä¾‹ã€‚" },
                { q: "å¦‚ä½•ç´¢å– PDF è¡Œç¨‹è¡¨ï¼Ÿ", a: "åœ¨æ¯å€‹è¡Œç¨‹è©³æƒ…é é»æ“Šã€Œå°å‡º PDFã€ï¼Œå­˜å…¥æ‰‹æ©Ÿå³å¯éš¨æ™‚æŸ¥çœ‹ã€‚" },
                { q: "æ˜¯å¦æœ‰éš¨åœ˜é†«è­·ä¿éšªï¼Ÿ", a: "å…¨è¡Œç¨‹åŒ…å« 500 è¬æ—…éŠè²¬ä»»éšªåŠç•¶åœ°æ„å¤–é†«ç™‚å¯¦æ”¯å¯¦ä»˜ä¿éšªã€‚" }
            ]
        };

        const travelPackages = [
            {
                id: "hokkaido",
                name: "åŒ—æµ·é“æ¥µè‡´é£Ÿå°šä¹‹æ—…",
                tag: "è€é¥•æ¨è–¦",
                icon: "Sprout",
                banner: "https://images.unsplash.com/photo-1549114030-4b210875620c?auto=format&fit=crop&w=1200&q=80",
                description: "åŒ—åœ‹å¤§åœ°ç”¢åœ°ç›´é€æµ·é®®ï¼Œé«”é©—å°æ¨½ã€å‡½é¤¨èˆ‡ç™»åˆ¥æº«æ³‰çš„æ¥µè‡´æµªæ¼«ã€‚",
                price: "TWD 55,000 èµ·",
                itinerary: [
                    {
                        day: 1, title: "æŠµé”æœ­å¹Œï¼šåŒ—åœ‹ä¹‹å‘³é–‹å•Ÿ", location: "æœ­å¹Œ",
                        roadmap: [{ time: "11:00", event: "æ©Ÿå ´å°ˆè»Šæ¥æ©Ÿ" }, { time: "15:00", event: "å¤§é€šå…¬åœ’èˆ‡é›»è¦–å¡”å°è¦½" }, { time: "18:00", event: "æˆå‰æ€æ±—çƒ¤ç¾Šè‚‰æ™šå®´" }],
                        desc: "é–‹å•ŸåŒ—æµ·é“å‘³è•¾å†’éšªã€‚ç¬¬ä¸€å¤©åœ¨æœ­å¹Œå¸‚ä¸­å¿ƒæ„Ÿå—é–‹æ‹“å²çš„æ°£æ¯ã€‚",
                        gourmet: [
                            { name: "æˆå‰æ€æ±— ã ã‚‹ã¾", type: "ååº—å¿…åƒ", popularDishes: ["ç‰¹é¸çƒ¤ç¾Šè‚‰", "è‡ªå®¶è£½æ³¡èœ", "ç¾Šè‚‰æ²¾é†¬éºµ"], contact: { address: "æœ­å¹Œå¸‚ä¸­å¤®åŒºå—5æ¡è¥¿4", phone: "011-552-6013" }, images: ["https://images.unsplash.com/photo-1529692236671-f1f6e9481bfa?auto=format&fit=crop&w=800&q=80"] },
                            { name: "æ¹¯å’–å“© Suage+", type: "åœ¨åœ°ç¾é£Ÿ", popularDishes: ["çŸ¥åºŠé›è‚‰æ¹¯å’–å“©"], contact: { address: "æœ­å¹Œå¸‚ä¸­å¤®åŒºå—4æ¡è¥¿5", phone: "011-233-2911" } }
                        ],
                        spots: [{ name: "æœ­å¹Œé›»è¦–å¡”", type: "åœ°æ¨™", desc: "ä¿¯ç°å…¨åŸæ™¯ç·»çš„æœ€ä½³åˆ¶é«˜é»ã€‚" }],
                        gifts: [{ name: "å…­èŠ±äº­ å¥¶æ²¹é¤…ä¹¾", type: "åç”¢", desc: "æ¿ƒéƒå¥¶æ²¹èˆ‡è˜­å§†è‘¡è„çš„å®Œç¾çµåˆã€‚" }],
                        hotel: { name: "JR Tower Hotel Nikko Sapporo", image: "https://images.unsplash.com/photo-1551882547-ff43c63faf76?auto=format&fit=crop&w=1000&q=80", website: "https://www.jrhotels.co.jp/sapporo/", facilities: ["é«˜ç©ºæµ´å ´", "æ˜Ÿç´šæ—©é¤"] }
                    },
                    {
                        day: 2, title: "æµªæ¼«å°æ¨½ï¼šé‹æ²³èˆ‡ç»ç’ƒå·¥è—", location: "å°æ¨½",
                        roadmap: [{ time: "10:00", event: "å‰å¾€å°æ¨½é‹æ²³æ­·å²æ•£ç­–" }, { time: "14:00", event: "åŒ—ä¸€ç¡å­å·¥è—è³æ" }, { time: "16:00", event: "éŸ³æ¨‚ç›’å ‚é«”é©—" }],
                        desc: "æ¼«æ­¥åœ¨çŸ³é€ å€‰åº«èˆ‡ç…¤æ²¹ç‡ˆç‡Ÿé€ çš„æµªæ¼«æƒ…èª¿ä¸­ã€‚",
                        gourmet: [{ name: "æ”¿å£½å¸ æœ¬åº—", type: "è·äººååº—", popularDishes: ["å¤§æ¥µä¸Šæ¡å£½å¸", "èŠ±æéºµç·šå£½å¸"], contact: { address: "å°æ¨½å¸‚èŠ±åœ’1-1-1", phone: "0134-23-0011" }, images: ["https://images.unsplash.com/photo-1534422298391-e4f8c170db76?auto=format&fit=crop&w=800&q=80"] }],
                        spots: [{ name: "å°æ¨½é‹æ²³", desc: "ç™¾å¹´çš„ç´…ç£šå€‰åº«å»ºç¯‰ç¾¤ã€‚" }],
                        gifts: [{ name: "LeTAO èµ·å¸è›‹ç³•", desc: "å£ä¸­ç¬é–“èåŒ–çš„æ¿ƒéƒäº«å—ã€‚" }],
                        hotel: { name: "Kuramure è—ç¾¤", image: "https://images.unsplash.com/photo-1584132967334-10e028bd69f7?auto=format&fit=crop&w=1000&q=80", website: "https://www.kuramure.com/en/", facilities: ["ç§äººæ‡·çŸ³", "ç²¾å“æº«æ³‰"] }
                    },
                    { day: 3, title: "å‡½é¤¨å¤œæ™¯ï¼šä¸–ç•Œä¸‰å¤§ç¾æ™¯", location: "å‡½é¤¨", roadmap: [{ time: "14:00", event: "äº”ç¨œéƒ­å…¬åœ’" }, { time: "19:00", event: "å‡½é¤¨å±±å¤œæ™¯" }], desc: "è´è¶ç£è¬å®¶ç‡ˆç«è¦–è¦ºéœ‡æ’¼ã€‚", gourmet: [{ name: "Lucky Pierrot", type: "åç‰©", popularDishes: ["ä¸­è¯é›è‚‰æ¼¢å ¡"], contact: { address: "å‡½é¤¨å¸‚æœ«åºƒç”º", phone: "0138-xxx" } }], spots: [{ name: "å‡½é¤¨å±±å±•æœ›å°", desc: "å…¨çƒçŸ¥åçš„ç™¾è¬å¤œæ™¯ã€‚" }], gifts: [{ name: "ä¹³é…ªæ­å§†è•¾", desc: "å‡½é¤¨é™å®šå£æ„Ÿã€‚" }], hotel: { name: "La Vista Hakodate Bay", image: "https://images.unsplash.com/photo-1544124499-58912cbddaad?auto=format&fit=crop&w=1000&q=80", website: "https://www.hotespa.net/hotels/lahakodate/", facilities: ["éœ²å¤©å¤§æµ´å ´", "ç¬¬ä¸€åæ—©é¤"] } },
                    { day: 4, title: "å‡½é¤¨æœå¸‚èˆ‡æ£®æ—æ•£ç­–", location: "å‡½é¤¨/å¤§æ²¼", roadmap: [{ time: "08:00", event: "æœå¸‚é‡£çƒè³Š" }, { time: "13:00", event: "å¤§æ²¼åœ‹å®šå…¬åœ’" }], gourmet: [{ name: "ããã‚ˆé£Ÿå ‚", type: "å¿…åƒ", popularDishes: ["ä¸‰è‰²ä¸¼"], contact: { address: "å‡½é¤¨æœå¸‚", phone: "0138-xxx" } }], spots: [{ name: "å¤§æ²¼æ£®æ—å…¬åœ’", desc: "ç«å±±èˆ‡æ¹–æ³Šç·¨ç¹”çš„æ™¯è‰²ã€‚" }], gifts: [{ name: "é­·é­šé£¯ç¦®ç›’", desc: "åœ¨åœ°ç‰¹ç”¢é¢¨å‘³ã€‚" }], hotel: { name: "La Vista Hakodate Bay", website: "https://www.hotespa.net/hotels/lahakodate/" } },
                    { day: 5, title: "ç™»åˆ¥åœ°ç„ï¼šéœ‡æ’¼åœ°ç†±åœ°è¡¨", location: "ç™»åˆ¥", roadmap: [{ time: "10:30", event: "å‰å¾€ç™»åˆ¥" }, { time: "14:00", event: "åœ°ç„è°·æ·±åº¦å°è¦½" }], gourmet: [{ name: "å‘³ã®è”µ", type: "ç‰¹è‰²", popularDishes: ["åœ°ç„å‘³å™Œéºµ"], contact: { address: "ç™»åˆ¥æ¸©æ³‰ç”º", phone: "0143-xxx" } }], spots: [{ name: "åœ°ç„è°·", desc: "ç¹šç¹ç¡«ç£ºç…™éœ§çš„å¥‡æ™¯ã€‚" }], gifts: [{ name: "æº«æ³‰å…¥æµ´åŠ‘", desc: "æŠŠåæ¹¯ç²¾è¯å¸¶å›å®¶ã€‚" }], hotel: { name: "ç¬¬ä¸€ç€§æœ¬é¤¨", image: "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&w=1000&q=80", website: "https://takimotokan.jp/", facilities: ["35ç¨®æ³‰è³ª"] } },
                    { day: 6, title: "æ´çˆºæ¹–ç•”ï¼šç«å±±èˆ‡èŠ±ç«", location: "æ´çˆºæ¹–", roadmap: [{ time: "10:00", event: "çºœè»Šç™»é ‚" }, { time: "20:30", event: "æ¹–ä¸Šç…™ç«å¤§æœƒ" }], gourmet: [{ name: "æœ›ç¾Šè¹„", type: "è€åº—", popularDishes: ["æ‰‹å·¥æ¼¢å ¡æ’"], contact: { address: "æ´çˆºæ¹–", phone: "0142-xxx" } }], spots: [{ name: "æœ‰ç å±±æ™¯è§€", desc: "è¿‘è·é›¢è§€æ¸¬æ´»ç«å±±ã€‚" }], gifts: [{ name: "è‹¥ç‹¹è–¯", desc: "å‚³æ‰¿ç™¾å¹´å’Œè“å­ã€‚" }], hotel: { name: "KO NO UTA", image: "https://images.unsplash.com/photo-1544124499-58912cbddaad?auto=format&fit=crop&w=1000&q=80", website: "https://www.konouta.com/", facilities: ["å…¨å®¤æ¹–æ™¯"] } },
                    { day: 7, title: "è³¦æ­¸ï¼šæ©Ÿå ´æœ€å¾Œè¡åˆº", location: "æ©Ÿå ´", roadmap: [{ time: "10:00", event: "æ–°åƒæ­²ä¼´æ‰‹ç¦®å€" }, { time: "14:00", event: "å°ˆäººå”åŠ©ç™»æ©Ÿ" }], gourmet: [{ name: "æ‹‰éºµä¸€å¹»", type: "æ©Ÿå ´", popularDishes: ["é®®è¦å‘³å™Œéºµ"], contact: { address: "èˆªå»ˆ3F", phone: "0123-xxx" } }], spots: [{ name: "æ–°åƒæ­²ç©ºæ¸¯", desc: "å…¨æ—¥æœ¬æœ€å¥½é€›çš„æ©Ÿå ´ã€‚" }], gifts: [{ name: "Royceç”Ÿå·§å…‹åŠ›", desc: "æ–°åƒæ­²é™å®šå£å‘³ã€‚" }], hotel: null }
                ]
            },
            {
                id: "classic",
                name: "ç¶“å…¸é›™åŸæ–‡åŒ–ä¹‹æ—…",
                tag: "æœ€ç†±é–€",
                icon: "Navigation",
                banner: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=1200&q=80",
                description: "æ±äº¬èˆ‡é—œè¥¿çš„å®Œç¾çµåˆï¼Œæ©«è·¨æ—¥æœ¬å¤ä»Šç¸®å½±ï¼Œå…¨ç¨‹å°ˆæ¥­ä¸­æ–‡å°è¦½ã€‚",
                price: "TWD 45,800 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: i === 0 ? "æ±äº¬æŠµé”" : i === 2 ? "å‰å¾€å¤éƒ½" : `æ–‡åŒ–å·¡ç¦® Day ${i+1}`, location: i < 3 ? "æ±äº¬" : "äº¬éƒ½",
                    roadmap: [{ time: "09:00", event: "é›†åˆå‡ºç™¼" }, { time: "18:00", event: "è‡ªç”±æ™‚é–“" }],
                    desc: "æ·±åº¦é«”é©—ç¹è¯èˆ‡ç¦ªæ„ã€‚",
                    gourmet: [{ name: "ååº—æ–™ç†", type: "ç²¾é¸", popularDishes: ["ç‰¹è‰²å®šé£Ÿ"], contact: { address: "é¬§å€ä¸­å¿ƒ", phone: "æ´½å°éŠ" } }],
                    spots: [{ name: "æ­·å²åœ°æ¨™", desc: "å»ºç¯‰ä¹‹ç¾ã€‚" }],
                    gifts: [{ name: "é™å®šç¦®ç›’", desc: "ç²¾ç¾ä¼´æ‰‹" }],
                    hotel: i < 6 ? { name: "é«˜ç´šäº”æ˜Ÿé£¯åº—", image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=1000&q=80", website: "https://www.hyatt.com/zh-HK/hotel/japan/park-hyatt-tokyo/tyoph" } : null
                }))
            },
            {
                id: "ski",
                name: "é•·é‡ç²‰é›ªæ»‘é›ªç››å®´",
                tag: "å†¬å­£é™å®š",
                icon: "Snowflake",
                banner: "https://images.unsplash.com/photo-1485594050903-8e8ee7b071a8?auto=format&fit=crop&w=1200&q=80",
                description: "åœ¨ä¸–ç•Œç´šé›ªå ´é«”é©—æ¥µè‡´ç²‰é›ªèˆ‡è±ªè¯æº«æ³‰ï¼Œé…å‚™å°ˆæ¥­æ•™ç·´æ•™å­¸ã€‚",
                price: "TWD 58,000 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: `ç²‰é›ªæŒ‘æˆ° Day ${i+1}`, location: "é•·é‡",
                    roadmap: [{ time: "09:00", event: "æ»‘é›ªæ•™å­¸" }, { time: "16:30", event: "åæ¹¯æ”¾é¬†" }],
                    desc: "æ»‘é›ªè€…çš„å¤¢å¹»å¤©å ‚ã€‚",
                    gourmet: [{ name: "ä¿¡å·ç‡’è‚‰", type: "å¿…åƒ", popularDishes: ["åšåˆ‡ç‰›èˆŒ"], contact: { address: "æº«æ³‰è¡—", phone: "é ç´„å°ˆç·š" } }],
                    spots: [{ name: "ç™½é¦¬å±•æœ›å°", desc: "é˜¿çˆ¾å‘æ–¯æ™¯è‰²ã€‚" }],
                    gifts: [{ name: "è˜‹æœæ´¾", desc: "åœ¨åœ°ç››ç”¢" }],
                    hotel: i < 6 ? { name: "æ»‘é›ªæ¸¡å‡é£¯åº—", image: "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&w=1000&q=80", website: "https://www.tokyuhotelsjapan.com/global/hakuba-h/" } : null
                }))
            },
            {
                id: "park",
                name: "å…¨å¢ƒä¸»é¡Œæ¨‚åœ’ç‹‚æ­¡",
                tag: "è¦ªå­å†’éšª",
                icon: "Ticket",
                banner: "https://images.unsplash.com/photo-1542332213-31f87348057f?auto=format&fit=crop&w=1200&q=80",
                description: "ä¸€æ¬¡æ”¶é›†è¿ªå£«å°¼èˆ‡ç’°çƒå½±åŸï¼Œæ‰“é€ å®Œç¾çš„ç«¥è©±å†’éšªé«”é©—ã€‚",
                price: "TWD 52,500 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: i < 3 ? "è¿ªå£«å°¼å¤¢å¹»" : "USJ å†’éšª", location: i < 3 ? "æ±äº¬" : "å¤§é˜ª",
                    roadmap: [{ time: "08:00", event: "æå‰å…¥åœ’" }, { time: "19:00", event: "å¤§ç§€è³æ" }],
                    desc: "å¤¢å¹»èˆ‡åˆºæ¿€çš„çµåˆã€‚",
                    gourmet: [{ name: "ä¸»é¡Œé¤å»³", type: "ç‰¹è‰²", popularDishes: ["è§’è‰²é¤é»"], contact: { address: "åœ’å€å…§", phone: "ç„¡" } }],
                    spots: [{ name: "ç†±é–€åœ’å€", desc: "æ²‰æµ¸å¼ä¸–ç•Œã€‚" }],
                    gifts: [{ name: "é™å®šé«®ç®", desc: "å¿…å‚™æ”¶è—" }],
                    hotel: i < 6 ? { name: "å®˜æ–¹ç›´ç‡Ÿé£¯åº—", image: "https://images.unsplash.com/photo-1571003123894-1f0594d2b5d9?auto=format&fit=crop&w=1000&q=80", website: "https://www.tokyodisneyresort.jp/tc/hotel/tdh.html" } : null
                }))
            },
            {
                id: "kyushu",
                name: "ä¹å·æº«æ³‰èˆ‡éµé“å°é®",
                tag: "æ·±åº¦æ…¢æ´»",
                icon: "Palmtree",
                banner: "https://images.unsplash.com/photo-1542931287-023b922fa89b?auto=format&fit=crop&w=1200&q=80",
                description: "é«”é©—åˆ¥åºœåœ°ç„ã€ç”±å¸ƒé™¢åæ¹¯ï¼Œæ­ä¹˜ä¹å·ç‰¹è‰²æ™¯è§€åˆ—è»ŠéŠè¦½ã€‚",
                price: "TWD 42,000 èµ·",
                itinerary: Array.from({length: 7}).map((_, i) => ({
                    day: i + 1, title: `ä¹å·æ…¢æ´» Day ${i+1}`, location: "åˆ¥åºœ",
                    roadmap: [{ time: "10:00", event: "éµé“é«”é©—" }, { time: "15:00", event: "åæ³‰è¶³æ¹¯" }],
                    desc: "ç™‚ç™’èº«å¿ƒçš„æ—…è¡Œã€‚",
                    gourmet: [{ name: "åœ°ç„è’¸æ–™ç†", type: "åç‰©", popularDishes: ["æµ·é®®æ‹¼ç›¤"], contact: { address: "åˆ¥åºœå¸‚", phone: "0977-xxx" } }],
                    spots: [{ name: "é‡‘é±—æ¹–", desc: "æ™¨éœ§è¿·æ¿›å¥‡æ™¯ã€‚" }],
                    gifts: [{ name: "æ˜å¤ªå­ç¦®ç›’", desc: "åšå¤šç‰¹ç”¢" }],
                    hotel: i < 6 ? { name: "ç²¾å“æº«æ³‰æ¸¡å‡æ‘", image: "https://images.unsplash.com/photo-1544124499-58912cbddaad?auto=format&fit=crop&w=1000&q=80", website: "https://suginoi.orixhotelsandresorts.com/" } : null
                }))
            }
        ];

        // --- 3. App ä¸»çµ„ä»¶ ---

        const App = () => {
            const [currentView, setCurrentView] = useState('home'); 
            const [selectedPkg, setSelectedPkg] = useState(null);
            const [activeDay, setActiveDay] = useState(0);
            const [galleryItem, setGalleryItem] = useState(null);
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [isExporting, setIsExporting] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            // è·¯ç”±æ§åˆ¶
            const navigateToDetail = (pkg) => { setSelectedPkg(pkg); setActiveDay(0); setCurrentView('detail'); window.scrollTo(0,0); };
            const navigateToHome = () => { setCurrentView('home'); window.scrollTo(0,0); };
            const openGallery = (item, type) => { setGalleryItem({ ...item, type }); setCurrentView('gallery'); window.scrollTo(0,0); };

            // PDF å°å‡ºé‚è¼¯
            const handleExportPDF = () => {
                if (typeof window.html2pdf === 'undefined') { alert("ç³»çµ±è¼‰å…¥ä¸­ï¼Œè«‹ç¨å€™..."); return; }
                setIsExporting(true);
                const element = document.getElementById('itinerary-pdf-content');
                const opt = {
                    margin: 10,
                    filename: `çµ•æ™¯æ—…éŠ_${selectedPkg.name}.pdf`,
                    image: { type: 'jpeg', quality: 1.0 },
                    html2canvas: { scale: 3, useCORS: true, letterRendering: true, backgroundColor: '#FFFFFF' },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };
                setTimeout(() => {
                    window.html2pdf().from(element).set(opt).save().then(() => setIsExporting(false)).catch(() => setIsExporting(false));
                }, 800);
            };

            // --- è¦–åœ–å­çµ„ä»¶ ---

            const Navbar = () => (
                <nav className={`fixed w-full z-50 transition-all duration-500 no-print ${scrolled || currentView !== 'home' ? 'bg-white/95 backdrop-blur-md shadow-lg py-3' : 'bg-transparent py-5 text-white'}`}>
                    <div className="container mx-auto px-6 flex justify-between items-center">
                        <div className="flex items-center space-x-2 cursor-pointer group" onClick={navigateToHome}>
                            <div className="w-10 h-10 rounded-xl bg-red-600 flex items-center justify-center shadow-lg transition-all group-hover:rotate-12"><Icon name="Compass" size={22} className="text-white" /></div>
                            <span className={`text-2xl font-black tracking-tighter ${scrolled || currentView !== 'home' ? 'text-gray-900' : 'text-white'}`}>çµ•æ™¯æ—…éŠ</span>
                        </div>
                        <div className="flex items-center space-x-8 font-black text-xs uppercase tracking-widest">
                            <div className="hidden md:flex space-x-10">
                                <button onClick={navigateToHome} className="hover:text-red-500 transition-colors">é¦–é æ¢ç´¢</button>
                                <button onClick={() => { setCurrentView('home'); setTimeout(() => document.getElementById('packages')?.scrollIntoView({behavior:'smooth'}), 100); }} className="hover:text-red-500 transition-colors">ä¸»é¡Œå¥—é¤</button>
                            </div>
                            <button onClick={() => setIsSidebarOpen(true)} className={`p-2.5 rounded-full transition-all ${scrolled || currentView !== 'home' ? 'bg-gray-100 text-gray-900' : 'bg-white/10 text-white'}`}>
                                <Icon name="Info" size={24} />
                            </button>
                        </div>
                    </div>
                </nav>
            );

            const Sidebar = () => (
                <div className={`fixed inset-0 z-[100] transition-all duration-500 ${isSidebarOpen ? 'visible opacity-100' : 'invisible opacity-0'}`}>
                   <div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={() => setIsSidebarOpen(false)}></div>
                   <div className={`absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl transition-transform duration-500 transform ${isSidebarOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                      <div className="p-10 h-full flex flex-col font-sans text-gray-900">
                         <div className="flex justify-between items-center mb-12">
                            <h3 className="text-3xl font-black text-gray-900 uppercase tracking-tighter">å…¬å¸è³‡è¨Š</h3>
                            <button onClick={() => setIsSidebarOpen(false)} className="p-3 bg-gray-100 rounded-full hover:bg-red-600 hover:text-white transition-all"><Icon name="X" size={24} /></button>
                         </div>
                         <div className="space-y-10 flex-1 overflow-y-auto pr-4 scrollbar-hide">
                            <section className="space-y-4">
                               <h4 className="text-sm font-black uppercase text-red-600 tracking-[0.3em]">è¯çµ¡çª—å£</h4>
                               <div className="space-y-4 font-bold text-gray-700">
                                  <p className="flex items-center"><Icon name="Phone" size={18} className="mr-4 text-red-500" /> {agencyInfo.phone}</p>
                                  <p className="flex items-center"><Icon name="Mail" size={18} className="mr-4 text-red-500" /> {agencyInfo.email}</p>
                                  <p className="flex items-start"><Icon name="MapPin" size={18} className="mr-4 text-red-500 mt-1" /> {agencyInfo.address}</p>
                               </div>
                            </section>
                            <section className="space-y-6">
                               <h4 className="text-sm font-black uppercase text-red-600 tracking-[0.3em]">å¸¸è¦‹å•é¡Œ FAQ</h4>
                               {agencyInfo.faq.map((f, i) => (
                                 <div key={i} className="p-6 bg-gray-50 rounded-3xl space-y-2"><p className="font-black text-gray-900 leading-tight">Q: {f.q}</p><p className="text-sm text-gray-500 font-medium">{f.a}</p></div>
                               ))}
                            </section>
                         </div>
                         <div className="pt-8 border-t border-gray-100">
                            <button onClick={() => { setIsSidebarOpen(false); setCurrentView('booking'); }} className="w-full py-5 bg-red-600 text-white rounded-2xl font-black shadow-xl hover:bg-red-700 transition-all uppercase tracking-widest"><Icon name="MessageCircle" className="mr-3" /> ç·šä¸Šå°ˆå“¡å³æ™‚é ç´„</button>
                         </div>
                      </div>
                   </div>
                </div>
            );

            const HomeView = () => (
                <div className="animate-fade-in font-sans">
                    <section className="relative h-[85vh] flex items-center justify-center bg-gray-900 overflow-hidden no-print">
                        <div className="absolute inset-0 z-0">
                            <div className="absolute inset-0 bg-gradient-to-b from-black/50 via-black/20 to-gray-900 z-10"></div>
                            <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&w=1920&q=80" className="w-full h-full object-cover" alt="Japan" />
                        </div>
                        <div className="relative z-20 text-center px-6 max-w-5xl text-white">
                            <div className="inline-block bg-red-600 px-6 py-2 rounded-full text-[10px] font-black mb-8 tracking-[0.3em] shadow-2xl uppercase">Expert Led 7-Day Journeys</div>
                            <h1 className="text-6xl md:text-8xl font-black mb-8 leading-[1.1] tracking-tighter uppercase font-sans">æ—¥æœ¬ï¼Œ<br/><span className="text-red-500 underline decoration-4 underline-offset-8">ä¸åªæ˜¯æ—…è¡Œ</span></h1>
                            <p className="text-xl text-gray-200 mb-12 max-w-2xl mx-auto font-medium leading-relaxed font-sans font-sans">æ•´åˆå®˜æ–¹é£¯åº—é€£çµã€å¿…åƒé¤é»è³‡è¨Šèˆ‡ PDF ä¸€éµå°å‡ºæœå‹™ã€‚æ‰“é€ æ‚¨çš„æ¥µè‡´å›æ†¶ã€‚</p>
                            <div className="flex justify-center"><div className="animate-bounce opacity-50"><Icon name="ChevronDown" size={32} /></div></div>
                        </div>
                    </section>
                    <section id="packages" className="py-32 bg-gray-50 px-6 no-print text-gray-900">
                        <div className="container mx-auto text-center mb-20 font-black uppercase text-4xl">åš´é¸äº”å¤§ä¸»é¡Œå¥—é¤</div>
                        <div className="container mx-auto grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                            {travelPackages.map((pkg) => (
                                <div key={pkg.id} onClick={() => navigateToDetail(pkg)} className="group cursor-pointer bg-white rounded-[3rem] overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4">
                                    <SafeImage src={pkg.banner} alt={pkg.name} className="h-64" />
                                    <div className="p-10 relative font-sans text-gray-900">
                                        <div className="absolute -top-8 left-8 z-20"><span className="px-3 py-1 rounded-full text-[10px] font-black tracking-widest uppercase bg-red-600 text-white shadow-sm font-sans">{pkg.tag}</span></div>
                                        <div className="w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center mb-8 group-hover:bg-red-600 group-hover:text-white transition-all shadow-sm"><Icon name={pkg.icon} /></div>
                                        <h3 className="text-2xl font-black mb-4 uppercase">{pkg.name}</h3>
                                        <p className="text-gray-500 text-sm mb-8 leading-relaxed line-clamp-2 font-medium">{pkg.description}</p>
                                        <div className="flex justify-between items-center border-t border-gray-100 pt-8 font-black">
                                            <span className="text-red-600 font-sans">{pkg.price}</span>
                                            <span className="text-xs uppercase tracking-widest text-gray-400 group-hover:text-red-600 font-sans">æŸ¥çœ‹è©³æƒ… <Icon name="ChevronRight" size={14} className="inline ml-1" /></span>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </section>
                </div>
            );

            const GalleryView = () => (
                <div className="pt-32 min-h-screen bg-gray-950 text-white animate-fade-in pb-24 px-6 font-sans">
                    <div className="container mx-auto py-12">
                        <button onClick={() => setCurrentView('detail')} className="flex items-center text-gray-400 hover:text-white mb-12 font-black text-xs uppercase tracking-widest transition-all"><Icon name="ArrowLeft" size={20} className="mr-3" /> è¿”å›è¡Œç¨‹è¡¨</button>
                        <div className="grid lg:grid-cols-2 gap-16 items-start text-gray-900 text-white">
                            <div className="space-y-12">
                                <div>
                                    <span className="inline-block px-4 py-1.5 bg-red-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest mb-6">{galleryItem?.type || "ç²¾é¸è³‡è¨Š"}</span>
                                    <h2 className="text-5xl md:text-7xl font-black uppercase tracking-tighter leading-none mb-8 text-white">{galleryItem?.name}</h2>
                                    <p className="text-xl text-gray-400 leading-relaxed font-medium mb-12">{galleryItem?.desc || "é«”é©—åœ¨åœ°ç²¾è¯èˆ‡ç´°è†©æ–‡åŒ–ã€‚"}</p>
                                    {galleryItem?.contact && (
                                        <div className="bg-white/5 border border-white/10 p-10 rounded-[3rem] space-y-6">
                                           <h4 className="text-xs font-black uppercase tracking-[0.4em] text-red-500 font-sans">è¯çµ¡èˆ‡å°èˆªè³‡è¨Š</h4>
                                           <div className="flex items-start space-x-4 text-sm font-bold text-gray-300"><Icon name="MapPin" size={22} className="text-gray-500" /><p>{galleryItem.contact.address}</p></div>
                                           <div className="flex items-center space-x-4 text-sm font-bold text-gray-300"><Icon name="Phone" size={22} className="text-gray-500" /><p>{galleryItem.contact.phone}</p></div>
                                        </div>
                                    )}
                                </div>
                                {galleryItem?.popularDishes && (
                                    <div className="bg-white/5 border border-white/10 p-10 rounded-[3rem]">
                                       <h4 className="flex items-center text-xl font-black uppercase tracking-widest mb-8 text-orange-500"><Icon name="ChefHat" className="mr-3" /> äººæ°£å¿…é»é¤é»</h4>
                                       <div className="space-y-4 font-bold text-lg text-gray-200">
                                          {galleryItem.popularDishes.map((dish, i) => (
                                            <div key={i} className="flex items-center space-x-4"><div className="w-2 h-2 rounded-full bg-orange-500"></div><span>{dish}</span></div>
                                          ))}
                                       </div>
                                    </div>
                                )}
                                <button className="flex items-center space-x-4 p-6 bg-red-600 text-white rounded-[2rem] w-full hover:bg-red-700 transition-all font-black uppercase tracking-widest font-sans"><Icon name="Instagram" /><span>æŸ¥çœ‹ Instagram ç¶²å‹å¯¦æ‹</span></button>
                            </div>
                            <div className="grid grid-cols-1 gap-6">
                               {galleryItem?.images?.map((img, i) => (
                                 <div key={i} className="rounded-[3rem] overflow-hidden shadow-2xl border border-white/10 aspect-video"><img src={img} className="w-full h-full object-cover" alt="Ref" /></div>
                               ))}
                            </div>
                        </div>
                    </div>
                </div>
            );

            const DetailView = () => {
                const dayData = selectedPkg?.itinerary?.[activeDay];
                if (!dayData) return null;

                return (
                    <div className="pt-24 min-h-screen bg-white animate-fade-in pb-24 font-sans px-6 text-gray-900">
                        
                        {/* --- PDF HIDDEN --- */}
                        <div id="itinerary-pdf-content" style={{ position: 'absolute', top: 0, left: '-9999px', width: '800px', backgroundColor: '#fff', color: '#000', padding: '40px' }}>
                             <div style={{ borderBottom: '10px solid #DC2626', paddingBottom: '30px', marginBottom: '40px', textAlign: 'center' }}>
                                <h1 style={{ fontSize: '48px', fontWeight: '900' }}>çµ•æ™¯æ—…éŠ | è¡Œç¨‹æ‰‹å†Š</h1>
                                <p style={{ fontSize: '20px', color: '#666', fontWeight: 'bold' }}>{selectedPkg?.name} Â· å®Œæ•´æ”»ç•¥</p>
                             </div>
                             {selectedPkg?.itinerary.map((day, idx) => (
                               <div key={idx} style={{ pageBreakInside: 'avoid', marginBottom: '50px', borderBottom: '2px solid #f0f0f0', paddingBottom: '50px' }}>
                                  <div style={{ display: 'flex', alignItems: 'baseline', gap: '30px', marginBottom: '30px' }}>
                                     <span style={{ fontSize: '64px', fontWeight: '900', color: '#DC2626' }}>D{day.day}</span>
                                     <h3 style={{ fontSize: '36px', fontWeight: '900' }}>{day.title}</h3>
                                  </div>
                                  <div style={{ display: 'grid', gridTemplateColumns: '1.2fr 0.8fr', gap: '40px' }}>
                                     <div style={{ backgroundColor: '#fdfdfd', border: '1px solid #eee', padding: '30px', borderRadius: '30px' }}>
                                        <h4 style={{ fontSize: '14px', fontWeight: '900', borderBottom: '2px solid #DC2626', paddingBottom: '5px', marginBottom: '25px' }}>å°è¦½æ™‚é–“è»¸</h4>
                                        {day.roadmap?.map((r, ri) => (
                                          <div key={ri} style={{ display: 'flex', marginBottom: '20px' }}><span style={{ fontWeight: '900', width: '80px', color: '#DC2626', fontSize: '18px' }}>{r.time}</span><span style={{ fontWeight: '700', flex: 1, fontSize: '18px' }}>{r.event}</span></div>
                                        ))}
                                     </div>
                                     <div>
                                        {day.hotel && <div style={{ backgroundColor: '#111', color: '#fff', padding: '25px', borderRadius: '30px', marginBottom: '30px' }}><h4 style={{ fontSize: '11px', fontWeight: '900', color: '#DC2626', marginBottom: '10px' }}>ä¸‹æ¦»é£¯åº—</h4><p style={{ fontSize: '20px', fontWeight: '900' }}>{day.hotel.name}</p></div>}
                                        <div style={{ border: '3px solid #FFEDD5', backgroundColor: '#FFF7ED', padding: '25px', borderRadius: '30px' }}>
                                           <h4 style={{ fontSize: '12px', fontWeight: '900', color: '#EA580C', marginBottom: '15px' }}>å¿…åƒæ¨è–¦</h4>
                                           {day.gourmet?.map((g, gi) => (
                                             <div key={gi} style={{ marginBottom: '15px' }}><p style={{ fontWeight: '900', fontSize: '16px' }}>{g.name}</p><p style={{ fontSize: '11px', color: '#666' }}>ğŸ“ {g.contact?.address}</p></div>
                                           ))}
                                        </div>
                                     </div>
                                  </div>
                               </div>
                             ))}
                        </div>

                        <div className="container mx-auto py-8 flex flex-col md:flex-row md:items-center justify-between border-b border-gray-100 mb-12 gap-4 no-print text-gray-900 font-sans">
                            <button onClick={() => setCurrentView('home')} className="flex items-center text-gray-500 hover:text-red-600 transition-all font-black text-xs uppercase tracking-widest"><Icon name="ArrowLeft" size={18} className="mr-3" /> è¿”å›åˆ—è¡¨</button>
                            <div className="flex items-center space-x-4">
                                <button onClick={handleExportPDF} disabled={isExporting} className="flex items-center px-6 py-3 bg-gray-900 text-white rounded-full font-black text-xs uppercase tracking-widest hover:bg-red-600 transition-all shadow-lg active:scale-95 disabled:opacity-50 font-sans">
                                    {isExporting ? <Icon name="Loader2" className="mr-2 animate-spin" size={16} /> : <Icon name="FileDown" size={16} className="mr-2" />}
                                    å°å‡º PDF è¡Œç¨‹æ‰‹å†Š
                                </button>
                                <div className="hidden lg:flex items-center space-x-3"><span className="px-3 py-1 bg-red-600 text-white text-[10px] font-black uppercase rounded-full">Guide Mode</span><span className="text-gray-900 font-black text-sm uppercase tracking-tight">{selectedPkg?.name}</span></div>
                            </div>
                        </div>

                        <div className="container mx-auto grid lg:grid-cols-12 gap-16 no-print font-sans">
                            <div className="lg:col-span-3 space-y-3 font-sans">
                                <h4 className="font-black text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-6 italic border-l-2 border-red-600 px-4">Journey Roadmap</h4>
                                <div className="grid grid-cols-4 lg:grid-cols-1 gap-2">
                                    {selectedPkg?.itinerary.map((item, idx) => (
                                        <button key={idx} onClick={() => { setActiveDay(idx); window.scrollTo({ top: 0, behavior: 'smooth' }); }} className={`text-left p-5 rounded-[2rem] transition-all flex flex-col lg:flex-row items-center border ${activeDay === idx ? 'bg-gray-900 text-white shadow-2xl border-gray-900 lg:translate-x-3' : 'bg-white text-gray-400 border-gray-100 hover:bg-gray-50'}`}>
                                            <span className={`w-8 h-8 lg:w-10 lg:h-10 rounded-xl flex items-center justify-center lg:mr-4 font-black text-xs mb-2 lg:mb-0 ${activeDay === idx ? 'bg-red-600 rotate-12' : 'bg-gray-100'}`}>D{item.day}</span>
                                            <span className="font-black text-[10px] lg:text-sm tracking-tight truncate w-full text-center lg:text-left whitespace-nowrap">{item.location}</span>
                                        </button>
                                    ))}
                                </div>
                            </div>

                            <div className="lg:col-span-9 space-y-16">
                                <div className="bg-white rounded-[4rem] p-10 md:p-16 shadow-2xl border border-gray-50 relative overflow-hidden font-sans">
                                    <div className="absolute top-0 right-0 p-12 opacity-5 text-gray-100 pointer-events-none uppercase font-black text-9xl">D0{dayData.day}</div>
                                    <div className="relative z-10 font-sans">
                                        <h2 className="text-4xl md:text-7xl font-black text-gray-900 leading-[1.1] mb-6 tracking-tighter uppercase">{dayData.title}</h2>
                                        <p className="text-2xl text-gray-500 leading-relaxed font-medium border-l-4 border-gray-100 pl-8 mb-16">{dayData.desc}</p>

                                        {/* Roadmap */}
                                        <div className="mb-20">
                                           <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10"><Icon name="Navigation" size={32} className="mr-5 text-red-600" /> Guided Roadmap</h4>
                                           <div className="bg-gray-50 p-10 rounded-[3rem] space-y-10 font-sans font-sans">
                                              {dayData.roadmap?.map((item, i) => (
                                                <div key={i} className="flex group">
                                                  <div className="flex flex-col items-center mr-8">
                                                    <div className="w-12 h-12 rounded-2xl bg-white border border-gray-200 text-red-600 flex items-center justify-center font-black text-xs shadow-sm group-hover:bg-red-600 group-hover:text-white transition-all font-sans">{item.time}</div>
                                                    {i !== dayData.roadmap.length - 1 && <div className="w-1 h-full bg-gray-100 group-hover:bg-red-100 transition-colors my-2"></div>}
                                                  </div>
                                                  <div className="pb-4 pt-2 font-black text-xl text-gray-900">{item.event}</div>
                                                </div>
                                              ))}
                                           </div>
                                        </div>

                                        {/* Gifts */}
                                        {dayData.gifts && dayData.gifts.length > 0 && (
                                           <div className="mb-20 pt-10 border-t border-gray-100">
                                              <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans"><Icon name="Gift" size={32} className="mr-5 text-pink-600" /> Must-Buy Gifts</h4>
                                              <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                                 {dayData.gifts.map((gift, i) => (
                                                   <button key={i} onClick={() => openGallery(gift, 'ç•¶åœ°ä¼´æ‰‹ç¦®')} className="text-left bg-pink-50/40 p-8 rounded-[2.5rem] border border-pink-100 hover:bg-white hover:shadow-2xl transition-all group relative">
                                                      <span className="text-[10px] px-3 py-1 bg-pink-200 text-pink-900 rounded-full font-black uppercase tracking-widest mb-4 block w-fit">ç²¾é¸ä¼´æ‰‹</span>
                                                      <h5 className="font-black text-xl text-pink-900 mb-3 font-sans">{gift.name}</h5>
                                                      <p className="text-sm text-gray-600 line-clamp-2">{gift.desc || "ç²¾é¸ç•¶åœ°æœ€å…·ä»£è¡¨æ€§çš„ä¼´æ‰‹ç¦®ã€‚"}</p>
                                                   </button>
                                                 ))}
                                              </div>
                                           </div>
                                        )}

                                        {/* Gourmet & Spots */}
                                        <div className="space-y-20 pt-10 border-t border-gray-100 font-sans">
                                          <div>
                                            <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans"><Icon name="Utensils" size={32} className="mr-5 text-orange-600" /> Gourmet Discovery</h4>
                                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8 text-gray-900 font-sans font-sans">
                                              {dayData.gourmet?.map((food, i) => (
                                                <button key={i} onClick={() => openGallery(food, 'ååº—æ¨è–¦')} className="text-left bg-orange-50/40 p-8 rounded-[2.5rem] border border-orange-100 hover:bg-white hover:shadow-2xl transition-all group relative">
                                                   <span className="text-[10px] px-3 py-1 bg-orange-200 text-orange-900 rounded-full font-black uppercase tracking-widest mb-4 block w-fit">ååº—å¿…åƒ</span>
                                                   <h5 className="font-black text-xl text-orange-900 mb-3 font-sans">{food.name}</h5>
                                                   {food.contact && (
                                                     <div className="pt-4 border-t border-orange-100/50 space-y-1 text-[9px] font-black text-gray-400 uppercase tracking-widest">
                                                        <div className="flex items-center"><Icon name="MapPin" size={10} className="mr-1 text-orange-500" /> {food.contact.address.substring(0,15)}...</div>
                                                        <div className="flex items-center"><Icon name="Phone" size={10} className="mr-1 text-orange-500" /> {food.contact.phone}</div>
                                                     </div>
                                                   )}
                                                   <div className="mt-4 flex items-center text-[10px] font-black text-orange-600 uppercase tracking-widest">æŸ¥çœ‹è©³æƒ… <Icon name="ChevronRight" size={14} className="ml-1" /></div>
                                                </button>
                                              ))}
                                            </div>
                                          </div>

                                          <div>
                                            <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans font-sans"><Icon name="Camera" size={32} className="mr-5 text-blue-600" /> Spot Explorer</h4>
                                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                              {dayData.spots?.map((spot, i) => (
                                                <button key={i} onClick={() => openGallery(spot, 'æ¨è–¦æ™¯é»')} className="text-left bg-blue-50/40 p-8 rounded-[2.5rem] border border-blue-100 hover:bg-white hover:shadow-2xl transition-all group relative">
                                                   <span className="text-[10px] px-3 py-1 bg-blue-200 text-blue-900 rounded-full font-black uppercase tracking-widest mb-4 block w-fit font-sans">ç†±é–€æ™¯é»</span>
                                                   <h5 className="font-black text-xl text-blue-900 mb-3 font-sans">{spot.name}</h5>
                                                   <div className="mt-4 flex items-center text-[10px] font-black text-blue-600 uppercase tracking-widest">æŸ¥çœ‹å¤§åœ– <Icon name="ChevronRight" size={14} className="ml-1" /></div>
                                                </button>
                                              ))}
                                            </div>
                                          </div>
                                        </div>

                                        {/* Hotel (å®˜ç¶²é€£çµä¿®å¾©) */}
                                        {dayData.hotel && (
                                          <div className="pt-20 border-t border-gray-100 mt-20">
                                            <h4 className="font-black text-gray-900 flex items-center text-3xl uppercase tracking-tighter mb-10 font-sans"><Icon name="Bed" size={32} className="mr-5 text-red-600" /> Elite Accommodation</h4>
                                            <div className="bg-gray-900 text-white rounded-[4rem] overflow-hidden shadow-2xl flex flex-col xl:flex-row border border-gray-800">
                                              <div className="xl:w-1/2 h-[500px]"><SafeImage src={dayData.hotel.image || selectedPkg.banner} alt={dayData.hotel.name} className="h-full w-full font-sans" /></div>
                                              <div className="xl:w-1/2 p-12 flex flex-col justify-center">
                                                <span className="text-red-500 font-black text-[10px] tracking-[0.5em] uppercase mb-8 block italic underline decoration-red-600/40 decoration-4 underline-offset-8">Featured Stay</span>
                                                <h4 className="text-4xl md:text-5xl font-black mb-8 tracking-tighter leading-tight uppercase font-sans">{dayData.hotel.name}</h4>
                                                <div className="flex flex-wrap gap-4 mb-10 font-black text-[10px] uppercase tracking-widest font-sans">
                                                  {dayData.hotel.facilities?.map((fac, i) => (
                                                    <div key={i} className="flex items-center bg-white/5 border border-white/10 px-5 py-3 rounded-2xl text-gray-300"><span className="mr-3 text-red-500"><Icon name="CheckCircle2" size={14} /></span> {fac}</div>
                                                  ))}
                                                </div>
                                                {dayData.hotel.website && dayData.hotel.website !== "#" && (
                                                  <a href={dayData.hotel.website} target="_blank" rel="noopener noreferrer" className="inline-flex items-center justify-center px-10 py-6 bg-white text-gray-900 rounded-2xl font-black text-sm hover:bg-red-600 hover:text-white transition-all shadow-xl group uppercase tracking-widest font-black">é€ è¨ªé£¯åº—å®˜æ–¹ç¶²ç«™ <Icon name="ExternalLink" size={18} className="ml-4 font-sans" /></a>
                                                )}
                                              </div>
                                            </div>
                                          </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            const BookingView = () => (
                <div className="pt-32 pb-24 bg-red-600 min-h-screen flex items-center px-6 font-sans">
                    <div className="container mx-auto font-sans">
                        <div className="bg-white rounded-[4rem] overflow-hidden shadow-2xl flex flex-col lg:flex-row text-gray-900">
                            <div className="lg:w-2/5 bg-gray-900 p-12 text-white flex flex-col justify-between font-sans">
                                <div><button onClick={() => setCurrentView('home')} className="flex items-center text-gray-400 hover:text-white mb-12 font-black text-xs uppercase transition-colors"><Icon name="ArrowLeft" size={18} className="mr-3" /> è¿”å›åˆ—è¡¨</button><h2 className="text-5xl font-black uppercase font-sans">å³åˆ»é ç´„</h2></div>
                            </div>
                            <div className="lg:w-3/5 p-12 bg-white">
                                <form className="space-y-10" onSubmit={(e) => e.preventDefault()}>
                                    <div className="grid md:grid-cols-2 gap-10">
                                        <input type="text" className="w-full px-8 py-5 bg-gray-50 border-none rounded-2xl font-bold text-lg font-sans" placeholder="å§“å" />
                                        <input type="tel" className="w-full px-8 py-5 bg-gray-50 border-none rounded-2xl font-bold text-lg font-sans" placeholder="é›»è©±" />
                                    </div>
                                    <button className="w-full py-6 bg-red-600 text-white rounded-2xl font-black text-xl shadow-2xl uppercase tracking-widest transition-all hover:bg-red-700">é€å‡ºé ç´„ç”³è«‹</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderView = () => {
                switch(currentView) {
                    case 'detail': return <DetailView />;
                    case 'gallery': return <GalleryView />;
                    case 'booking': return <BookingView />;
                    default: return <HomeView />;
                }
            };

            return (
                <div className="min-h-screen bg-white text-gray-900 selection:bg-red-100 selection:text-red-600 font-sans">
                    <Navbar />
                    <Sidebar />
                    {renderView()}
                    <footer className="bg-gray-900 text-white py-24 text-center no-print">
                        <div className="container mx-auto px-6 font-sans">
                           <div className="inline-flex items-center space-x-3 mb-12 border border-white/10 p-4 rounded-3xl">
                              <div className="w-10 h-10 rounded-xl bg-red-600 flex items-center justify-center shadow-lg"><Icon name="Navigation" size={20} className="text-white" /></div>
                              <span className="text-xl font-black tracking-tighter uppercase">Superb Travel</span>
                           </div>
                           <div className="flex flex-col md:flex-row justify-center items-center gap-10 text-[10px] font-black uppercase tracking-[0.4em] opacity-50 mb-12 font-sans">
                              <p>åœ°å€: {agencyInfo.address}</p>
                              <p>é›»è©±: {agencyInfo.phone}</p>
                              <p>EMAIL: {agencyInfo.email}</p>
                           </div>
                           <p className="text-[10px] font-bold uppercase tracking-[0.5em] opacity-20 font-sans font-sans">Â© 2025 SUPERB TRAVEL CO., LTD. ALL RIGHTS RESERVED.</p>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>